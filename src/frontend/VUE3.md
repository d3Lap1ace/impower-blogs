# ç¯å¢ƒæ­å»º
## Nodejsçš„ç®€ä»‹å’Œå®‰è£…
![image.png](https://cdn.nlark.com/yuque/0/2024/png/43928099/1718088061955-87ceb45c-c14f-4d17-827a-e443318938b9.png#averageHue=%23d8d8d8&clientId=u2b254a53-9fc8-4&from=paste&height=664&id=u05ae45d0&originHeight=664&originWidth=1092&originalType=binary&ratio=1&rotation=0&showTitle=false&size=71208&status=done&style=none&taskId=uaf84a00d-bf05-4169-a46e-38cc95fc147&title=&width=1092)
### ä»€ä¹ˆæ˜¯Nodejs
> Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼Œå¯ä»¥ä½¿ JavaScript è¿è¡Œåœ¨æœåŠ¡å™¨ç«¯ã€‚ä½¿ç”¨ Node.jsï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¼€å‘æœåŠ¡å™¨ç«¯åº”ç”¨ç¨‹åºï¼Œå¦‚ Web åº”ç”¨ã€APIã€åç«¯æœåŠ¡ï¼Œè¿˜å¯ä»¥é€šè¿‡ Node.js æ„å»ºå‘½ä»¤è¡Œå·¥å…·ç­‰ã€‚ç›¸æ¯”äºä¼ ç»Ÿçš„æœåŠ¡å™¨ç«¯è¯­è¨€ï¼ˆå¦‚ PHPã€Javaã€Python ç­‰ï¼‰ï¼ŒNode.js å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

- å•çº¿ç¨‹ï¼Œä½†æ˜¯é‡‡ç”¨äº†äº‹ä»¶é©±åŠ¨ã€å¼‚æ­¥ I/O æ¨¡å‹ï¼Œå¯ä»¥å¤„ç†é«˜å¹¶å‘è¯·æ±‚ï¼›
- è½»é‡çº§ï¼Œä½¿ç”¨ C++ ç¼–å†™çš„ V8 å¼•æ“è®© Node.js çš„è¿è¡Œé€Ÿåº¦å¾ˆå¿«ï¼›
- æ¨¡å—åŒ–ï¼ŒNode.js å†…ç½®äº†å¤§é‡æ¨¡å—ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹æ¨¡å—æ‰©å±•åŠŸèƒ½ï¼›
- è·¨å¹³å°ï¼Œå¯ä»¥åœ¨ Windowsã€Linuxã€Mac ç­‰å¤šç§å¹³å°ä¸‹è¿è¡Œï¼›
> Node.js çš„æ ¸å¿ƒæ˜¯å…¶ç®¡ç†äº‹ä»¶å’Œå¼‚æ­¥ I/O çš„èƒ½åŠ›ã€‚Node.js çš„å¼‚æ­¥ I/O ä½¿å…¶èƒ½å¤Ÿå¤„ç†å¤§é‡å¹¶å‘è¯·æ±‚ï¼Œå¹¶ä¸”èƒ½å¤Ÿé¿å…åœ¨ç­‰å¾… I/O èµ„æºæ—¶é€ æˆçš„é˜»å¡ã€‚æ­¤å¤–ï¼ŒNode.js è¿˜æ‹¥æœ‰é«˜æ€§èƒ½ç½‘ç»œåº“å’Œæ–‡ä»¶ç³»ç»Ÿåº“ï¼Œå¯ç”¨äºæ­å»º WebSocket æœåŠ¡å™¨ã€ä¸Šä¼ æ–‡ä»¶ç­‰ã€‚`åœ¨ Node.js ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ JavaScript æ¥ç¼–å†™æœåŠ¡å™¨ç«¯ç¨‹åºï¼Œè¿™ä¹Ÿä½¿å¾—å‰ç«¯å¼€å‘äººå‘˜å¯ä»¥åˆ©ç”¨è‡ªå·±å·²ç»ç†Ÿæ‚‰çš„æŠ€èƒ½æ¥å¼€å‘æœåŠ¡å™¨ç«¯ç¨‹åºï¼ŒåŒæ—¶ä¹Ÿè®© JavaScript æˆä¸ºä¸€ç§å…¨æ ˆè¯­è¨€ã€‚`Node.js å—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ï¼ŒåŒ…æ‹¬äº†å¤§å‹ä¼ä¸šçº§åº”ç”¨ã€äº‘è®¡ç®—ã€ç‰©è”ç½‘ã€æ¸¸æˆå¼€å‘ç­‰é¢†åŸŸã€‚å¸¸ç”¨çš„ Node.js æ¡†æ¶åŒ…æ‹¬ Expressã€Koaã€Egg.js ç­‰ï¼Œå®ƒä»¬èƒ½å¤Ÿæ˜¾è‘—æé«˜å¼€å‘æ•ˆç‡å’Œä»£ç è´¨é‡ã€‚

### å®‰è£…
office  select  LTS vserion     and    node -v   or  npm -v   check vserion

## npm é…ç½®å’Œä½¿ç”¨
![image.png](https://cdn.nlark.com/yuque/0/2024/png/43928099/1718088290194-878cb375-a0fb-41b8-adbb-fa5e7b2a1013.png#averageHue=%23e79e9e&clientId=u2b254a53-9fc8-4&from=paste&height=328&id=ucb6a6bfd&originHeight=328&originWidth=792&originalType=binary&ratio=1&rotation=0&showTitle=false&size=23901&status=done&style=none&taskId=uaead7692-3235-4905-b2ae-9e8d916781e&title=&width=792)
### npmä»‹ç»
NPMå…¨ç§°Node Package Managerï¼Œæ˜¯Node.jsåŒ…ç®¡ç†å·¥å…·ï¼Œæ˜¯å…¨çƒæœ€å¤§çš„æ¨¡å—ç”Ÿæ€ç³»ç»Ÿï¼Œé‡Œé¢æ‰€æœ‰çš„æ¨¡å—éƒ½æ˜¯å¼€æºå…è´¹çš„ï¼›ä¹Ÿæ˜¯Node.jsçš„åŒ…ç®¡ç†å·¥å…·ï¼Œç›¸å½“äºåç«¯çš„Mavençš„éƒ¨åˆ†åŠŸèƒ½ ã€‚
### npm å®‰è£…å’Œé…ç½®
1ã€å®‰è£… ï¼šå®‰è£…Nodejsï¼Œè‡ªåŠ¨å®‰è£…npmåŒ…ç®¡ç†å·¥å…·ï¼
2ã€é…ç½®ä¾èµ–ä¸‹è½½ä½¿ç”¨é˜¿é‡Œé•œåƒï¼š
npm config set registry https://registry.npmmirror.com
æŸ¥çœ‹å½“å‰ registry çš„é…ç½®
npm config get registry
å¦‚æœéœ€è¦æ¢å¤é»˜è®¤çš„å®˜æ–¹æºï¼Œå¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
npm config set registry https://registry.npmjs.org/
3ã€é…ç½®å…¨å±€ä¾èµ–ä¸‹è½½åå­˜å‚¨ä½ç½®ï¼š

- åœ¨ Windows ç³»ç»Ÿä¸Šï¼Œnpm çš„å…¨å±€ä¾èµ–é»˜è®¤å®‰è£…åœ¨ <ç”¨æˆ·ç›®å½•>\AppData\Roaming\npm ç›®å½•ä¸‹ã€‚
- å¦‚æœéœ€è¦ä¿®æ”¹å…¨å±€ä¾èµ–çš„å®‰è£…è·¯å¾„ï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š
   1. åˆ›å»ºä¸€ä¸ªæ–°çš„å…¨å±€ä¾èµ–å­˜å‚¨ç›®å½•ï¼Œä¾‹å¦‚D:\GlobalNodeModulesã€‚

æ‰“å¼€å‘½ä»¤è¡Œç»ˆç«¯ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥é…ç½®æ–°çš„å…¨å±€ä¾èµ–å­˜å‚¨è·¯å¾„ï¼š

   2. npm config set prefix "D:\GlobalNodeModules"

ç¡®è®¤é…ç½®å·²ç”Ÿæ•ˆï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹å½“å‰çš„å…¨å±€ä¾èµ–å­˜å‚¨è·¯å¾„ï¼š

   3. npm config get prefix

4ã€å‡çº§npmç‰ˆæœ¬ï¼š

- cmd è¾“å…¥npm -v æŸ¥çœ‹ç‰ˆæœ¬ï¼Œå¦‚æœnodeä¸­è‡ªå¸¦çš„npmç‰ˆæœ¬è¿‡ä½ï¼åˆ™éœ€è¦å‡çº§è‡³9.6.6ï¼

npm install -g npm@9.6.6
### npm å¸¸ç”¨å‘½ä»¤
1ã€é¡¹ç›®åˆå§‹åŒ–ï¼š

- npm init
   - è¿›å…¥ä¸€ä¸ªvscodeåˆ›å»ºå¥½çš„é¡¹ç›®ä¸­ï¼Œæ‰§è¡Œ npm init å‘½ä»¤åï¼Œnpm ä¼šå¼•å¯¼æ‚¨åœ¨å‘½ä»¤è¡Œç•Œé¢ä¸Šå›ç­”ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚é¡¹ç›®åç§°ã€ç‰ˆæœ¬å·ã€ä½œè€…ã€è®¸å¯è¯ç­‰ä¿¡æ¯ï¼Œå¹¶æœ€ç»ˆç”Ÿæˆä¸€ä¸ªpackage.json æ–‡ä»¶ã€‚package.jsonä¿¡æ¯ä¼šåŒ…å«é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼ç±»ä¼¼mavençš„pom.xmlã€‚
- npm init -y
   - æ‰§è¡Œï¼Œ-y yesçš„æ„æ€ï¼Œæ‰€æœ‰ä¿¡æ¯ä½¿ç”¨å½“å‰æ–‡ä»¶å¤¹çš„é»˜è®¤å€¼ï¼ä¸ç”¨æŒ¨ä¸ªå¡«å†™ï¼

2ã€å®‰è£…ä¾èµ– (æŸ¥çœ‹æ‰€æœ‰ä¾èµ–åœ°å€ [https://www.npmjs.com](https://www.npmjs.com/) )ï¼š

- npm install åŒ…å æˆ–è€… npm install åŒ…å@ç‰ˆæœ¬å·
   - å®‰è£…åŒ…æˆ–è€…æŒ‡å®šç‰ˆæœ¬çš„ä¾èµ–åŒ…(å®‰è£…åˆ°å½“å‰é¡¹ç›®ä¸­)ã€‚
- npm install -g åŒ…å
   - å®‰è£…å…¨å±€ä¾èµ–åŒ…(å®‰è£…åˆ°d:/GlobalNodeModules)åˆ™å¯ä»¥åœ¨ä»»ä½•é¡¹ç›®ä¸­ä½¿ç”¨å®ƒï¼Œè€Œæ— éœ€åœ¨æ¯ä¸ªé¡¹ç›®ä¸­ç‹¬ç«‹å®‰è£…è¯¥åŒ…ã€‚
- npm install
   - å®‰è£…package.jsonä¸­çš„æ‰€æœ‰è®°å½•çš„ä¾èµ–ã€‚

3ã€å‡çº§ä¾èµ–ï¼š

- npm update åŒ…å
   - å°†ä¾èµ–å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚

4ã€å¸è½½ä¾èµ–ï¼š

- npm uninstall åŒ…å

5ã€æŸ¥çœ‹ä¾èµ–ï¼š

- npm ls
   - æŸ¥çœ‹é¡¹ç›®ä¾èµ–ã€‚
- npm list -g
   - æŸ¥çœ‹å…¨å±€ä¾èµ–ã€‚

6ã€è¿è¡Œå‘½ä»¤ï¼š

- npm run å‘½ä»¤æ˜¯åœ¨æ‰§è¡Œ npm è„šæœ¬æ—¶ä½¿ç”¨çš„å‘½ä»¤ã€‚npm è„šæœ¬æ˜¯ä¸€ç»„åœ¨ package.json æ–‡ä»¶ä¸­å®šä¹‰çš„å¯æ‰§è¡Œå‘½ä»¤ã€‚npm è„šæœ¬å¯ç”¨äºå¯åŠ¨åº”ç”¨ç¨‹åºï¼Œè¿è¡Œæµ‹è¯•ï¼Œç”Ÿæˆæ–‡æ¡£ç­‰ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰å‘½ä»¤ä»¥åŠé…ç½®éœ€è¦è¿è¡Œçš„è„šæœ¬ã€‚
- åœ¨ package.json æ–‡ä»¶ä¸­ï¼Œscripts å­—æ®µæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä¸€ç»„é”®å€¼å¯¹ï¼Œé”®æ˜¯è¦è¿è¡Œçš„è„šæœ¬çš„åç§°ï¼Œå€¼æ˜¯è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚
# Vue3ç®€ä»‹
## **Vueçš„ä¸¤ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼š**

- **å£°æ˜å¼æ¸²æŸ“**ï¼šVue åŸºäºæ ‡å‡† HTML æ‹“å±•äº†ä¸€å¥—æ¨¡æ¿è¯­æ³•ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥å£°æ˜å¼åœ°æè¿°æœ€ç»ˆè¾“å‡ºçš„ HTML å’Œ JavaScript çŠ¶æ€ä¹‹é—´çš„å…³ç³»ï¼›
- **å“åº”æ€§**ï¼šVue ä¼šè‡ªåŠ¨è·Ÿè¸ª JavaScript çŠ¶æ€å¹¶åœ¨å…¶å‘ç”Ÿå˜åŒ–æ—¶å“åº”å¼åœ°æ›´æ–° DOM Â ï¼›
## Vue3é€šè¿‡Viteå®ç°å·¥ç¨‹åŒ–
### Viteçš„ä»‹ç»
![image.png](https://cdn.nlark.com/yuque/0/2024/png/43928099/1718101530104-ec61b724-6094-4e63-9e19-74712de597db.png#averageHue=%23c4ccf9&clientId=uae7c84f0-9f17-4&from=paste&height=471&id=uf7f2f7a0&originHeight=471&originWidth=613&originalType=binary&ratio=1&rotation=0&showTitle=false&size=290358&status=done&style=none&taskId=u093ca09a-faa8-49e4-bdb2-62c0d564a09&title=&width=613)

> åœ¨æµè§ˆå™¨æ”¯æŒ ES æ¨¡å—ä¹‹å‰ï¼ŒJavaScript å¹¶æ²¡æœ‰æä¾›åŸç”Ÿæœºåˆ¶è®©å¼€å‘è€…ä»¥æ¨¡å—åŒ–çš„æ–¹å¼è¿›è¡Œå¼€å‘ã€‚è¿™ä¹Ÿæ­£æ˜¯æˆ‘ä»¬å¯¹ â€œæ‰“åŒ…â€ è¿™ä¸ªæ¦‚å¿µç†Ÿæ‚‰çš„åŸå› ï¼šä½¿ç”¨å·¥å…·æŠ“å–ã€å¤„ç†å¹¶å°†æˆ‘ä»¬çš„æºç æ¨¡å—ä¸²è”æˆå¯ä»¥åœ¨æµè§ˆå™¨ä¸­è¿è¡Œçš„æ–‡ä»¶ã€‚æ—¶è¿‡å¢ƒè¿ï¼Œæˆ‘ä»¬è§è¯äº†è¯¸å¦‚ [webpack](https://webpack.js.org/)ã€[Rollup](https://rollupjs.org/) å’Œ [Parcel](https://parceljs.org/) ç­‰å·¥å…·çš„å˜è¿ï¼Œå®ƒä»¬æå¤§åœ°æ”¹å–„äº†å‰ç«¯å¼€å‘è€…çš„å¼€å‘ä½“éªŒã€‚



1. å¿«é€Ÿåˆ›å»ºé¡¹ç›®ï¼šä½¿ç”¨è„šæ‰‹æ¶å¯ä»¥å¿«é€Ÿæ­å»ºé¡¹ç›®åŸºæœ¬æ¡†æ¶ï¼Œé¿å…ä»é›¶å¼€å§‹æ­å»ºé¡¹ç›®çš„é‡å¤åŠ³åŠ¨å’Œç¹çæ“ä½œï¼Œä»è€ŒèŠ‚çœæ—¶é—´å’Œç²¾åŠ›ï¼›
2. ç»Ÿä¸€çš„å·¥ç¨‹åŒ–è§„èŒƒï¼šå‰ç«¯è„šæ‰‹æ¶å¯ä»¥é¢„è®¾é¡¹ç›®ç›®å½•ç»“æ„ã€ä»£ç è§„èŒƒã€gitæäº¤è§„èŒƒç­‰ç»Ÿä¸€çš„å·¥ç¨‹åŒ–è§„èŒƒï¼Œè®©ä¸åŒå¼€å‘è€…åœ¨åŒä¸€ä¸ªé¡¹ç›®ä¸Šç¼–å†™å‡ºé£æ ¼ä¸€è‡´çš„ä»£ç ï¼Œæé«˜åä½œæ•ˆç‡å’Œè´¨é‡ï¼›
3. ä»£ç æ¨¡æ¿å’Œç»„ä»¶åº“ï¼šå‰ç«¯è„šæ‰‹æ¶å¯ä»¥åŒ…å«ä¸€äº›å¸¸ç”¨çš„ä»£ç æ¨¡æ¿å’Œç»„ä»¶åº“ï¼Œä½¿å¼€å‘è€…åœ¨å®ç°å¸¸è§åŠŸèƒ½æ—¶ä¸å†é‡å¤é€ è½®å­ï¼Œé¿å…å› ä¸ºè½®å­è´¨é‡ä¸é«˜å¸¦æ¥çš„éº»çƒ¦ï¼Œèƒ½å¤Ÿæ›´åŠ ä¸“æ³¨äºé¡¹ç›®çš„ä¸šåŠ¡é€»è¾‘ï¼›
4. è‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²ï¼šå‰ç«¯è„šæ‰‹æ¶å¯ä»¥è‡ªåŠ¨è¿›è¡Œä»£ç æ‰“åŒ…ã€å‹ç¼©ã€åˆå¹¶ã€ç¼–è¯‘ç­‰å¸¸è§çš„æ„å»ºå·¥ä½œï¼Œå¯ä»¥é€šè¿‡é›†æˆè‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬ï¼Œè‡ªåŠ¨å°†ä»£ç éƒ¨ç½²åˆ°æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒç­‰ï¼›
### Vite+Vue3é¡¹ç›®çš„åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢
```powershell
npm create vite@latest
cd ./vue3-demo1
npm install
npm run dev
ctrl+c
```
### Vite+Vue3é¡¹ç›®çš„ç›®å½•ç»“æ„
> ![image.png](https://cdn.nlark.com/yuque/0/2024/png/43928099/1718101843988-0c07a3a8-6710-4dea-988b-4b9cef841aa3.png#averageHue=%23f0efed&clientId=uae7c84f0-9f17-4&from=paste&height=498&id=u4b3771b0&originHeight=498&originWidth=294&originalType=binary&ratio=1&rotation=0&showTitle=false&size=19443&status=done&style=none&taskId=u1a3f937a-2707-43f1-b218-06484c7737d&title=&width=294)

- public/ ç›®å½•ï¼šç”¨äºå­˜æ”¾ä¸€äº›å…¬å…±èµ„æºï¼Œå¦‚ HTML æ–‡ä»¶ã€å›¾åƒã€å­—ä½“ç­‰ï¼Œè¿™äº›èµ„æºä¼šè¢«ç›´æ¥å¤åˆ¶åˆ°æ„å»ºå‡ºçš„ç›®æ ‡ç›®å½•ä¸­ã€‚
- src/ ç›®å½•ï¼šå­˜æ”¾é¡¹ç›®çš„æºä»£ç ï¼ŒåŒ…æ‹¬ JavaScriptã€CSSã€Vue ç»„ä»¶ã€å›¾åƒå’Œå­—ä½“ç­‰èµ„æºã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè¿™äº›æ–‡ä»¶ä¼šè¢« Vite å®æ—¶ç¼–è¯‘å’Œå¤„ç†ï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­è¿›è¡Œå®æ—¶é¢„è§ˆå’Œè°ƒè¯•ã€‚ä»¥ä¸‹æ˜¯srcå†…éƒ¨åˆ’åˆ†å»ºè®®ï¼š 
   1. `assets/` ç›®å½•ï¼šç”¨äºå­˜æ”¾ä¸€äº›é¡¹ç›®ä¸­ç”¨åˆ°çš„é™æ€èµ„æºï¼Œå¦‚å›¾ç‰‡ã€å­—ä½“ã€æ ·å¼æ–‡ä»¶ç­‰ã€‚
   2. `components/` ç›®å½•ï¼šç”¨äºå­˜æ”¾ç»„ä»¶ç›¸å…³çš„æ–‡ä»¶ã€‚ç»„ä»¶æ˜¯ä»£ç å¤ç”¨çš„ä¸€ç§æ–¹å¼ï¼Œç”¨äºæŠ½è±¡å‡ºä¸€ä¸ªå¯å¤ç”¨çš„ UI éƒ¨ä»¶ï¼Œæ–¹ä¾¿åœ¨ä¸åŒçš„åœºæ™¯ä¸­è¿›è¡Œé‡å¤ä½¿ç”¨ã€‚
   3. `layouts/` ç›®å½•ï¼šç”¨äºå­˜æ”¾å¸ƒå±€ç»„ä»¶çš„æ–‡ä»¶ã€‚å¸ƒå±€ç»„ä»¶é€šå¸¸è´Ÿè´£æ•´ä¸ªåº”ç”¨ç¨‹åºçš„æ•´ä½“å¸ƒå±€ï¼Œå¦‚å¤´éƒ¨ã€åº•éƒ¨ã€å¯¼èˆªèœå•ç­‰ã€‚
   4. `pages/` ç›®å½•ï¼šç”¨äºå­˜æ”¾é¡µé¢çº§åˆ«çš„ç»„ä»¶æ–‡ä»¶ï¼Œé€šå¸¸æ˜¯è·¯ç”±å¯¹åº”çš„ç»„ä»¶æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œå¯ä»¥åˆ›å»ºå¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜å‚¨ä¸åŒçš„é¡µé¢ç»„ä»¶ã€‚
   5. `plugins/` ç›®å½•ï¼šç”¨äºå­˜æ”¾ Vite æ’ä»¶ç›¸å…³çš„æ–‡ä»¶ï¼Œå¯ä»¥æŒ‰éœ€åŠ è½½ä¸åŒçš„æ’ä»¶æ¥å®ç°ä¸åŒçš„åŠŸèƒ½ï¼Œå¦‚è‡ªåŠ¨åŒ–æµ‹è¯•ã€ä»£ç å‹ç¼©ç­‰ã€‚
   6. `router/` ç›®å½•ï¼šç”¨äºå­˜æ”¾ Vue.js çš„è·¯ç”±é…ç½®æ–‡ä»¶ï¼Œè´Ÿè´£ç®¡ç†è§†å›¾å’Œ URL ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œæ–¹ä¾¿å®ç°é¡µé¢ä¹‹é—´çš„è·³è½¬å’Œæ•°æ®ä¼ é€’ã€‚
   7. `store/` ç›®å½•ï¼šç”¨äºå­˜æ”¾ Vuex çŠ¶æ€ç®¡ç†ç›¸å…³çš„æ–‡ä»¶ï¼Œè´Ÿè´£ç®¡ç†åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®å’ŒçŠ¶æ€ï¼Œæ–¹ä¾¿ç»Ÿä¸€ç®¡ç†å’Œå…±äº«æ•°æ®ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚
   8. `utils/` ç›®å½•ï¼šç”¨äºå­˜æ”¾ä¸€äº›é€šç”¨çš„å·¥å…·å‡½æ•°ï¼Œå¦‚æ—¥æœŸå¤„ç†å‡½æ•°ã€å­—ç¬¦ä¸²æ“ä½œå‡½æ•°ç­‰ã€‚
- vite.config.js æ–‡ä»¶ï¼šVite çš„é…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡è¯¥æ–‡ä»¶é…ç½®é¡¹ç›®çš„å‚æ•°ã€æ’ä»¶ã€æ‰“åŒ…ä¼˜åŒ–ç­‰ã€‚è¯¥æ–‡ä»¶å¯ä»¥ä½¿ç”¨ CommonJS æˆ– ES6 æ¨¡å—çš„è¯­æ³•è¿›è¡Œé…ç½®ã€‚
- package.json æ–‡ä»¶ï¼šæ ‡å‡†çš„ Node.js é¡¹ç›®é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«äº†é¡¹ç›®çš„åŸºæœ¬ä¿¡æ¯å’Œä¾èµ–å…³ç³»ã€‚å…¶ä¸­å¯ä»¥é€šè¿‡ scripts å­—æ®µå®šä¹‰å‡ ä¸ªå‘½ä»¤ï¼Œå¦‚ devã€buildã€serve ç­‰ï¼Œç”¨äºå¯åŠ¨å¼€å‘ã€æ„å»ºå’Œå¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ç­‰æ“ä½œã€‚
- Vite é¡¹ç›®çš„å…¥å£ä¸º src/main.js æ–‡ä»¶ï¼Œè¿™æ˜¯ Vue.js åº”ç”¨ç¨‹åºçš„å¯åŠ¨æ–‡ä»¶ï¼Œä¹Ÿæ˜¯æ•´ä¸ªå‰ç«¯åº”ç”¨ç¨‹åºçš„å…¥å£æ–‡ä»¶ã€‚åœ¨è¯¥æ–‡ä»¶ä¸­ï¼Œé€šå¸¸ä¼šå¼•å…¥ Vue.js åŠå…¶ç›¸å…³æ’ä»¶å’Œç»„ä»¶ï¼ŒåŒæ—¶ä¼šåˆ›å»º Vue å®ä¾‹ï¼ŒæŒ‚è½½åˆ° HTML é¡µé¢ä¸ŠæŒ‡å®šçš„ DOM å…ƒç´ ä¸­ã€‚

### Vite+Vue3é¡¹ç›®ç»„ä»¶(SFCå…¥é—¨)

> ä»€ä¹ˆæ˜¯VUEçš„ç»„ä»¶?

- ä¸€ä¸ªé¡µé¢ä½œä¸ºæ•´ä½“ï¼Œæ˜¯ç”±å¤šä¸ªéƒ¨åˆ†ç»„æˆçš„ï¼Œæ¯ä¸ªéƒ¨åˆ†åœ¨è¿™é‡Œå°±å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç»„ä»¶ï¼›
- æ¯ä¸ª.vueæ–‡ä»¶å°±å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªç»„ä»¶ï¼Œå¤šä¸ª.vueæ–‡ä»¶å¯ä»¥æ„æˆä¸€ä¸ªæ•´ä½“é¡µé¢ï¼›
- ç»„ä»¶åŒ–ç»™æˆ‘ä»¬å¸¦æ¥çš„å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯ç»„ä»¶çš„å¤ç”¨å’Œç»´æŠ¤éå¸¸çš„æ–¹ä¾¿ï¼›
> ä»€ä¹ˆæ˜¯.vueæ–‡ä»¶?

-  ä¼ ç»Ÿçš„é¡µé¢æœ‰htmlæ–‡ä»¶cssæ–‡ä»¶å’Œjsæ–‡ä»¶ä¸‰ä¸ªæ–‡ä»¶ç»„æˆ(å¤šæ–‡ä»¶ç»„ä»¶) ï¼› 
-  vueå°†è¿™æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªvueæ–‡ä»¶(Single-File Componentï¼Œç®€ç§° SFCï¼Œå•æ–‡ä»¶ç»„ä»¶)ï¼› 
-  vueæ–‡ä»¶å¯¹js/css/htmlç»Ÿä¸€å°è£…ï¼Œè¿™æ˜¯VUEä¸­çš„æ¦‚å¿µï¼Œè¯¥æ–‡ä»¶ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆ Â  Â `<script> <template> <style>`ï¼› 
   - templateæ ‡ç­¾ Â  Â  ä»£è¡¨ç»„ä»¶çš„htmléƒ¨åˆ†ä»£ç ï¼Œä»£æ›¿ä¼ ç»Ÿçš„htmlæ–‡ä»¶ï¼›
   - scriptæ ‡ç­¾ Â  Â  Â  Â  Â  ä»£è¡¨ç»„ä»¶çš„jsä»£ç ï¼Œä»£æ›¿ä¼ ç»Ÿçš„jsæ–‡ä»¶ï¼›
   - styleæ ‡ç­¾ Â  Â  Â  Â  Â  Â ä»£è¡¨ç»„ä»¶çš„cssæ ·å¼ä»£ç ï¼Œä»£æ›¿ä¼ ç»Ÿçš„cssæ–‡ä»¶	ï¼›
> å·¥ç¨‹åŒ–vueé¡¹ç›®å¦‚ä½•ç»„ç»‡è¿™äº›ç»„ä»¶?

- index.htmlæ˜¯é¡¹ç›®çš„å…¥å£ï¼Œå…¶ä¸­ `<div id ='app'></div>`æ˜¯ç”¨äºæŒ‚è½½æ‰€æœ‰ç»„å»ºçš„å…ƒç´ ï¼›
- index.htmlä¸­çš„scriptæ ‡ç­¾å¼•å…¥äº†ä¸€ä¸ªmain.jsæ–‡ä»¶ï¼Œå…·ä½“çš„æŒ‚è½½è¿‡ç¨‹åœ¨main.jsä¸­æ‰§è¡Œï¼›
- main.jsæ˜¯vueå·¥ç¨‹ä¸­éå¸¸é‡è¦çš„æ–‡ä»¶ï¼Œä»–å†³å®šè¿™é¡¹ç›®ä½¿ç”¨å“ªäº›ä¾èµ–ï¼Œå¯¼å…¥çš„ç¬¬ä¸€ä¸ªç»„ä»¶ï¼›
- App.vueæ˜¯vueä¸­çš„æ ¸å¿ƒç»„ä»¶ï¼Œæ‰€æœ‰çš„å…¶ä»–ç»„ä»¶éƒ½è¦é€šè¿‡è¯¥ç»„ä»¶è¿›è¡Œå¯¼å…¥ï¼Œè¯¥ç»„ä»¶é€šè¿‡è·¯ç”±å¯ä»¥æ§åˆ¶é¡µé¢çš„åˆ‡æ¢ï¼›

![](images/1684912274904.png#id=Jf8Ca&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

### Vite+Vue3å“åº”å¼å…¥é—¨å’Œsetupå‡½æ•°
```html
<script>
    //å­˜å‚¨vueé¡µé¢é€»è¾‘jsä»£ç 
</script>
<template>
    <!-- é¡µé¢çš„æ ·å¼çš„æ˜¯htmlä»£ç -->
</template>
<style scoped>
    /** å­˜å‚¨çš„æ˜¯cssä»£ç ! <style scoped> æ˜¯ Vue.js å•æ–‡ä»¶ç»„ä»¶ä¸­ç”¨äºè®¾ç½®ç»„ä»¶æ ·å¼çš„ä¸€ç§æ–¹å¼ã€‚
    å®ƒçš„å«ä¹‰æ˜¯å°†æ ·å¼å±€é™åœ¨å½“å‰ç»„ä»¶ä¸­ï¼Œä¸å¯¹å…¨å±€æ ·å¼é€ æˆå½±å“ã€‚ */
</style>
```
> 2 Vue3å“åº”å¼æ•°æ®å…¥é—¨ï¼š

```html
<script type="module">
    //å­˜å‚¨vueé¡µé¢é€»è¾‘jsä»£ç 
    import {ref} from 'vue'
    export default{
        setup(){
            //éå“åº”å¼æ•°æ®: ä¿®æ”¹åVUEä¸ä¼šæ›´æ–°DOM
            //å“åº”å¼æ•°æ®:   ä¿®æ”¹åVUEä¼šæ›´æ–°DOM
            //VUE2ä¸­æ•°æ®é»˜è®¤æ˜¯å“åº”å¼çš„
            //VUE3ä¸­æ•°æ®è¦ç»è¿‡refæˆ–è€…reactiveå¤„ç†åæ‰æ˜¯å“åº”å¼çš„
            //refæ˜¯VUE3æ¡†æ¶æä¾›çš„ä¸€ä¸ªå‡½æ•°,éœ€è¦å¯¼å…¥
            //let counter = 1
            //refå¤„ç†çš„å“åº”å¼æ•°æ®åœ¨jsç¼–ç ä¿®æ”¹çš„æ—¶å€™éœ€è¦é€šè¿‡.valueæ“ä½œ
            //refå“åº”å¼æ•°æ®åœ¨ç»‘å®šåˆ°htmlä¸Šæ—¶ä¸éœ€è¦.value
            let counter = ref(1)
            function increase(){
                // é€šè¿‡.valueä¿®æ”¹å“åº”å¼æ•°æ®
                counter.value++
            }
            function decrease(){
                counter.value--
            }
            return {
                counter,
                increase,
                decrease
            }
        }
    }
</script>
<template>
    <div>
      <button @click="decrease()">-</button>
      {{ counter }}
      <button @click="increase()">+</button>
    </div>
</template>
<style scoped>
    button{
        border: 1px solid red;
    }
</style>
```

> 3 Vue3 setupå‡½æ•°å’Œè¯­æ³•ç³–ï¼š


- ä½ç½®ï¼šsrc/App.vueã€‚

```vue
<script type="module" setup>   
/* é€šè¿‡setupå…³é”®å­—ï¼Œå¯ä»¥çœç•¥ export default {setup(){   return{}}}è¿™äº›å†—ä½™çš„è¯­æ³•ç»“æ„ */
    import {ref} from 'vue'
    // å®šä¹‰å“åº”å¼æ•°æ®
    let counter = ref(1)
    // å®šä¹‰å‡½æ•°
    function increase(){
        counter.value++
    }
    function decrease(){
        counter.value--
    }  
</script>
<template>
    <div>
      <button @click="decrease()">-</button>
      {{ counter }}
      <button @click="increase()">+</button>
    </div>
</template>
<style scoped>
    button{
        border: 1px solid red;
    }
</style>
```

###  Vite+Vue3å…³äºæ ·å¼çš„å¯¼å…¥æ–¹å¼

1.  å…¨å±€å¼•å…¥main.jsï¼› 
```javascript
import './style/reset.css' //ä¹¦å†™å¼•å…¥çš„èµ„æºçš„ç›¸å¯¹è·¯å¾„å³å¯ï¼
```
 

2.  vueæ–‡ä»¶scriptä»£ç å¼•å…¥ï¼› 
```javascript
import './style/reset.css'
```
 

3.  Vueæ–‡ä»¶styleä»£ç å¼•å…¥ï¼› 
```javascript
@import './style/reset.css'
```
### 
## vue3 è§†å›¾æ¸²æŸ“æŠ€æœ¯
### æ¨¡æ¿è¯­æ³•
#### æ’å€¼è¡¨è¾¾å¼
æœ€åŸºæœ¬çš„æ•°æ®ç»‘å®šå½¢å¼æ˜¯æ–‡æœ¬æ’å€¼ï¼Œå®ƒä½¿ç”¨çš„æ˜¯â€œMustacheâ€è¯­æ³• ï¼Œå³åŒå¤§æ‹¬å·{{}}ï¼š

- v-textå¯ä»¥å°†æ•°æ®æ¸²æŸ“æˆåŒæ ‡ç­¾ä¸­é—´çš„æ–‡æœ¬ï¼Œä½†æ˜¯ä¸è¯†åˆ«htmlå…ƒç´ ç»“æ„çš„æ–‡æœ¬ï¼›
- v-htmlå¯ä»¥å°†æ•°æ®æ¸²æŸ“æˆåŒæ ‡ç­¾ä¸­é—´çš„æ–‡æœ¬ï¼Œè¯†åˆ«htmlå…ƒç´ ç»“æ„çš„æ–‡æœ¬ï¼›
#### Attributeå±æ€§æ¸²æŸ“
v-bindæŒ‡ä»¤

- ç”±äºæ’å€¼è¡¨è¾¾å¼ä¸èƒ½ç›´æ¥æ”¾åœ¨æ ‡ç­¾çš„å±æ€§ä¸­ï¼Œè¦æ¸²æŸ“å…ƒç´ çš„å±æ€§å°±åº”è¯¥ä½¿ç”¨v-bindï¼›
- v-bindå¯ä»¥ç”¨äºæ¸²æŸ“ä»»ä½•å…ƒç´ çš„å±æ€§ï¼Œè¯­æ³•ä¸º v-bind:å±æ€§å='æ•°æ®å'ï¼Œ å¯ä»¥ç®€å†™ä¸º :å±æ€§å='æ•°æ®å'ï¼›
#### äº‹ä»¶çš„ç»‘å®š
v-on æ¥ç›‘å¬ DOM äº‹ä»¶

- ç”¨æ³•ï¼š`v-on:click="handler"` æˆ–ç®€å†™ä¸º `@click="handler"`ï¼›
- vueä¸­çš„äº‹ä»¶å=åŸç”Ÿäº‹ä»¶åå»æ‰`on` å‰ç¼€ Â  å¦‚:`onClick --> click`ï¼›
- handlerçš„å€¼å¯ä»¥æ˜¯æ–¹æ³•äº‹ä»¶å¤„ç†å™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯å†…è”äº‹ä»¶å¤„ç†å™¨ï¼›
- ç»‘å®šäº‹ä»¶æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¸€äº›ç»‘å®šçš„ä¿®é¥°ç¬¦ï¼Œå¸¸è§çš„äº‹ä»¶ä¿®é¥°ç¬¦å¦‚ä¸‹ï¼š 
   - `.onceï¼šåªè§¦å‘ä¸€æ¬¡äº‹ä»¶ã€‚[é‡ç‚¹]`ï¼›
   - `.preventï¼šé˜»æ­¢é»˜è®¤äº‹ä»¶ã€‚[é‡ç‚¹]`ï¼›
   - .stopï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡ï¼›
   - .captureï¼šä½¿ç”¨äº‹ä»¶æ•è·æ¨¡å¼è€Œä¸æ˜¯å†’æ³¡æ¨¡å¼ï¼›
   - .selfï¼šåªåœ¨äº‹ä»¶å‘é€è€…è‡ªèº«è§¦å‘æ—¶æ‰è§¦å‘äº‹ä»¶ï¼›
### å“åº”å¼åŸºç¡€
#### å“åº”å¼å®ç°å…³é”®å­—ref
ref å¯ä»¥å°†ä¸€ä¸ªåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼ˆå¦‚å­—ç¬¦ä¸²ï¼Œæ•°å­—ç­‰ï¼‰è½¬æ¢ä¸ºä¸€ä¸ªå“åº”å¼å¯¹è±¡ã€‚ ref åªèƒ½åŒ…è£¹å•ä¸€å…ƒç´ ã€‚
#### å“åº”å¼å®ç°å…³é”®å­—reactive
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ reactive() å‡½æ•°åˆ›å»ºä¸€ä¸ªå“åº”å¼å¯¹è±¡æˆ–æ•°ç»„ï¼š
#### å¯¹æ¯”refå’Œreactive

-  ä½¿ç”¨ `ref` é€‚ç”¨äºä»¥ä¸‹å¼€å‘åœºæ™¯ï¼š 
   - åŒ…è£…åŸºæœ¬ç±»å‹æ•°æ®ï¼šref ä¸»è¦ç”¨äºåŒ…è£…åŸºæœ¬ç±»å‹æ•°æ®ï¼ˆå¦‚å­—ç¬¦ä¸²ã€æ•°å­—ç­‰ï¼‰ï¼Œå³åªæœ‰ä¸€ä¸ªå€¼çš„æ•°æ®ï¼Œå¦‚æœä½ æƒ³ç›‘å¬è¿™ä¸ªå€¼çš„å˜åŒ–ï¼Œç”¨ refæœ€ä¸ºæ–¹ä¾¿ã€‚åœ¨ç»„ä»¶ä¸­ä½¿ç”¨æ—¶ä¹Ÿå¾ˆå¸¸è§ã€‚
   - è®¿é—®æ–¹å¼ç®€å•ï¼šref å¯¹è±¡åœ¨è®¿é—®æ—¶ä¸æ™®é€šçš„åŸºæœ¬ç±»å‹å€¼æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œåªéœ€è¦é€šè¿‡ .valueè®¿é—®å…¶å®é™…å€¼å³å¯ã€‚
-  ä½¿ç”¨ `reactive` é€‚ç”¨äºä»¥ä¸‹å¼€å‘åœºæ™¯ï¼š 
   - åŒ…è£…å¤æ‚å¯¹è±¡ï¼šreactiveå¯ä»¥å°†ä¸€ä¸ªæ™®é€šå¯¹è±¡è½¬åŒ–ä¸ºå“åº”å¼å¯¹è±¡ï¼Œè¿™æ ·åœ¨æ•°æ®å˜åŒ–æ—¶ä¼šè‡ªåŠ¨æ›´æ–°ç•Œé¢ï¼Œç‰¹åˆ«é€‚ç”¨äºå¤„ç†å¤æ‚å¯¹è±¡æˆ–è€…æ•°æ®ç»“æ„ã€‚
   - éœ€è¦é€’å½’ç›‘å¬çš„å±æ€§ï¼šä½¿ç”¨ reactive å¯ä»¥é€’å½’è¿½è¸ªæ‰€æœ‰å“åº”å¼å¯¹è±¡å†…éƒ¨çš„å˜åŒ–ï¼Œä»è€Œä¿è¯ç•Œé¢çš„è‡ªåŠ¨æ›´æ–°ã€‚
-  ç»¼ä¸Šæ‰€è¿°ï¼Œrefé€‚ç”¨ä¸ç®€å•æƒ…å½¢ä¸‹çš„æ•°æ®åŒå‘ç»‘å®šï¼Œå¯¹äºåªæœ‰ä¸€ä¸ªå­—ç¬¦ç­‰åŸºæœ¬ç±»å‹æ•°æ®æˆ–è‡ªå®šä¹‰ç»„ä»¶ç­‰æƒ…å†µï¼Œå»ºè®®å¯ä»¥ä½¿ç”¨ refï¼›è€Œå¯¹äºå¯¹è±¡ã€å‡½æ•°ç­‰è¾ƒä¸ºå¤æ‚çš„æ•°æ®ç»“æ„ï¼Œä»¥åŠéœ€è¦é€’å½’ç›‘å¬çš„å±æ€§å˜åŒ–ï¼Œå»ºè®®ä½¿ç”¨ reactiveã€‚å½“ç„¶ï¼Œåœ¨å®é™…é¡¹ç›®ä¸­æ ¹æ®éœ€æ±‚çµæ´»é€‰æ‹©ä¹Ÿæ˜¯ååˆ†å¿…è¦çš„ã€‚ 
### æ¡ä»¶å’Œåˆ—è¡¨æ¸²æŸ“

#### 6.3.1 æ¡ä»¶æ¸²æŸ“

> `v-if` æ¡ä»¶æ¸²æŸ“ï¼š


-  `v-if='è¡¨è¾¾å¼'`åªä¼šåœ¨æŒ‡ä»¤çš„è¡¨è¾¾å¼è¿”å›çœŸå€¼æ—¶æ‰è¢«æ¸²æŸ“ 
-  ä¹Ÿå¯ä»¥ä½¿ç”¨ `v-else` ä¸º `v-if` æ·»åŠ ä¸€ä¸ªâ€œelse åŒºå—â€ã€‚ 
-  ä¸€ä¸ª `v-else` å…ƒç´ å¿…é¡»è·Ÿåœ¨ä¸€ä¸ª `v-if` å…ƒç´ åé¢ï¼Œå¦åˆ™å®ƒå°†ä¸ä¼šè¢«è¯†åˆ«ã€‚ 

```html
<script type="module" setup>
    import {ref} from 'vue'
    let awesome = ref(true)
</script>
<template>
  <div>
    <h1 v-if="awesome">Vue is awesome!</h1>
    <h1 v-else>Oh no ğŸ˜¢</h1>
    <button @click="awesome = !awesome">Toggle</button>
  </div>
</template> 
<style scoped>
</style>
```

> `v-show`æ¡ä»¶æ¸²æŸ“æ‰©å±•ï¼š


-  å¦ä¸€ä¸ªå¯ä»¥ç”¨æ¥æŒ‰æ¡ä»¶æ˜¾ç¤ºä¸€ä¸ªå…ƒç´ çš„æŒ‡ä»¤æ˜¯ `v-show`ã€‚å…¶ç”¨æ³•åŸºæœ¬ä¸€æ ·ï¼› 
-  ä¸åŒä¹‹å¤„åœ¨äº `v-show` ä¼šåœ¨ DOM æ¸²æŸ“ä¸­ä¿ç•™è¯¥å…ƒç´ ï¼›`v-show` ä»…åˆ‡æ¢äº†è¯¥å…ƒç´ ä¸Šåä¸º `display` çš„ CSS å±æ€§ï¼› 
-  `v-show` ä¸æ”¯æŒåœ¨ `<template>` å…ƒç´ ä¸Šä½¿ç”¨ï¼Œä¹Ÿä¸èƒ½å’Œ `v-else` æ­é…ä½¿ç”¨ï¼› 

```html
<script type="module" setup>
    import {ref} from 'vue'
    let awesome = ref(true)
</script>
<template>
  <div>
    <h1 id="ha"  v-show="awesome">Vue is awesome!</h1>
    <h1 id="hb"  v-if="awesome">Vue is awesome!</h1>
    <h1 id="hc"  v-else>Oh no ğŸ˜¢</h1>
    <button @click="awesome = !awesome">Toggle</button>
  </div>
</template> 
<style scoped>
</style>
```

![](images/1684565503347.png#id=MITEW&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

> `**v-if**` Â  Â **vs** `**v-show**`ï¼š


-  `v-if` æ˜¯â€œçœŸå®çš„â€æŒ‰æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒç¡®ä¿äº†åœ¨åˆ‡æ¢æ—¶ï¼Œæ¡ä»¶åŒºå—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶éƒ½ä¼šè¢«é”€æ¯ä¸é‡å»ºï¼› 
-  `v-if` ä¹Ÿæ˜¯**æƒ°æ€§**çš„ï¼šå¦‚æœåœ¨åˆæ¬¡æ¸²æŸ“æ—¶æ¡ä»¶å€¼ä¸º falseï¼Œåˆ™ä¸ä¼šåšä»»ä½•äº‹ã€‚æ¡ä»¶åŒºå—åªæœ‰å½“æ¡ä»¶é¦–æ¬¡å˜ä¸º true æ—¶æ‰è¢«æ¸²æŸ“ï¼› 
-  ç›¸æ¯”ä¹‹ä¸‹ï¼Œ`v-show` ç®€å•è®¸å¤šï¼Œå…ƒç´ æ— è®ºåˆå§‹æ¡ä»¶å¦‚ä½•ï¼Œå§‹ç»ˆä¼šè¢«æ¸²æŸ“ï¼Œåªæœ‰ CSS `display` å±æ€§ä¼šè¢«åˆ‡æ¢ï¼› 
-  æ€»çš„æ¥è¯´ï¼Œ`v-if` æœ‰æ›´é«˜çš„åˆ‡æ¢å¼€é”€ï¼Œè€Œ `v-show` æœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“å¼€é”€ã€‚å› æ­¤ï¼Œå¦‚æœéœ€è¦é¢‘ç¹åˆ‡æ¢ï¼Œåˆ™ä½¿ç”¨ `v-show` è¾ƒå¥½ï¼›å¦‚æœåœ¨è¿è¡Œæ—¶ç»‘å®šæ¡ä»¶å¾ˆå°‘æ”¹å˜ï¼Œåˆ™ `v-if` ä¼šæ›´åˆé€‚ï¼› 

#### 6.3.2 åˆ—è¡¨æ¸²æŸ“

> æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `v-for` æŒ‡ä»¤åŸºäºä¸€ä¸ªæ•°ç»„æ¥æ¸²æŸ“ä¸€ä¸ªåˆ—è¡¨ï¼š


-  `v-for` æŒ‡ä»¤çš„å€¼éœ€è¦ä½¿ç”¨ `item in items` å½¢å¼çš„ç‰¹æ®Šè¯­æ³•ï¼Œå…¶ä¸­ `items` æ˜¯æºæ•°æ®çš„æ•°ç»„ï¼Œè€Œ `item` æ˜¯è¿­ä»£é¡¹çš„åˆ«åï¼› 
-  åœ¨ `v-for` å—ä¸­å¯ä»¥å®Œæ•´åœ°è®¿é—®çˆ¶ä½œç”¨åŸŸå†…çš„å±æ€§å’Œå˜é‡ã€‚`v-for` ä¹Ÿæ”¯æŒä½¿ç”¨å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºå½“å‰é¡¹çš„ä½ç½®ç´¢å¼•ï¼› 

```html
<script type="module" setup>
    import {ref,reactive} from 'vue'
    let parentMessage= ref('äº§å“')
    let items =reactive([
      {
        id:'item1',
        message:"è–¯ç‰‡"
      },
      {
        id:'item2',
        message:"å¯ä¹"
      }
    ])
</script>
<template>
  <div>
    <ul>
      <!-- :keyä¸å†™ä¹Ÿå¯ä»¥ -->
      <li v-for='item in items' :key='item.id'>
        {{ item.message }}
      </li>
    </ul>
    <ul>
      <!-- indexè¡¨ç¤ºç´¢å¼• -->
      <li v-for="(item, index) in items" :key="index">
        {{ parentMessage }} - {{ index }} - {{ item.message }}
      </li>
    </ul>
  </div>
</template> 
<style scoped>
</style>
```

- æ¡ˆä¾‹ï¼šå®ç°è´­ç‰©è½¦æ˜¾ç¤ºå’Œåˆ é™¤è´­ç‰©é¡¹

```html
<script type="module" setup>
    //å¼•å…¥æ¨¡å—
    import { reactive} from 'vue'
    //å‡†å¤‡è´­ç‰©è½¦æ•°æ®,è®¾ç½®æˆå“åº”æ•°æ®
    const carts = reactive([{name:'å¯ä¹',price:3,number:10},{name:'è–¯ç‰‡',price:6,number:8}])
    //è®¡ç®—è´­ç‰©è½¦æ€»é‡‘é¢
    function compute(){
      let count = 0;
      for(let index in carts){
        count += carts[index].price*carts[index].number;
      }
      return count;
    }
    //åˆ é™¤è´­ç‰©é¡¹æ–¹æ³•
    function removeCart(index){
      carts.splice(index,1);
    }
</script>
<template>
    <div>
        <table>
           <thead>
               <tr>
                  <th>åºå·</th>
                  <th>å•†å“å</th>
                  <th>ä»·æ ¼</th>
                  <th>æ•°é‡</th>
                  <th>å°è®¡</th>
                  <th>æ“ä½œ</th>
               </tr>
           </thead>
           <tbody v-if="carts.length > 0">
               <!-- æœ‰æ•°æ®æ˜¾ç¤º-->
               <tr v-for="cart,index in carts" :key="index">
                  <th>{{ index+1 }}</th>
                  <th>{{ cart.name }}</th>
                  <th>{{ cart.price + 'å…ƒ' }}</th>
                  <th>{{ cart.number }}</th>
                  <th>{{ cart.price*cart.number  + 'å…ƒ'}}</th>
                  <th> <button @click="removeCart(index)">åˆ é™¤</button> </th>
               </tr>
           </tbody>
           <tbody v-else>
               <!-- æ²¡æœ‰æ•°æ®æ˜¾ç¤º-->
               <tr>
                  <td colspan="6">è´­ç‰©è½¦æ²¡æœ‰æ•°æ®!</td>
               </tr>
           </tbody>
        </table>
        è´­ç‰©è½¦æ€»é‡‘é¢: {{ compute() }} å…ƒ
    </div>
</template> 
<style scoped>
</style>
```
### åŒå‘ç»‘å®š

> å•é¡¹ç»‘å®šå’ŒåŒå‘ç»‘å®šï¼š


- å•å‘ç»‘å®šï¼šå“åº”å¼æ•°æ®çš„å˜åŒ–ä¼šæ›´æ–°domæ ‘ï¼Œä½†æ˜¯domæ ‘ä¸Šç”¨æˆ·çš„æ“ä½œé€ æˆçš„æ•°æ®æ”¹å˜`ä¸ä¼šåŒæ­¥æ›´æ–°åˆ°å“åº”å¼æ•°æ®`ï¼›
- åŒå‘ç»‘å®šï¼šå“åº”å¼æ•°æ®çš„å˜åŒ–ä¼šæ›´æ–°domæ ‘ï¼Œä½†æ˜¯domæ ‘ä¸Šç”¨æˆ·çš„æ“ä½œé€ æˆçš„æ•°æ®æ”¹å˜`ä¼šåŒæ­¥æ›´æ–°åˆ°å“åº”å¼æ•°æ®`ï¼› 
   - ç”¨æˆ·é€šè¿‡è¡¨å•æ ‡ç­¾æ‰èƒ½å¤Ÿè¾“å…¥æ•°æ®ï¼Œæ‰€ä»¥åŒå‘ç»‘å®šéƒ½æ˜¯åº”ç”¨åˆ°è¡¨å•æ ‡ç­¾ä¸Šçš„ï¼Œå…¶ä»–æ ‡ç­¾ä¸è¡Œï¼›
   - v-modelä¸“é—¨ç”¨äºåŒå‘ç»‘å®šè¡¨å•æ ‡ç­¾çš„valueå±æ€§ï¼Œè¯­æ³•ä¸º `v-model:value=''`ï¼Œå¯ä»¥ç®€å†™ä¸º `v-model=''`ï¼›
   - v-modelè¿˜å¯ä»¥ç”¨äºå„ç§ä¸åŒç±»å‹çš„è¾“å…¥ï¼Œ`<textarea>`ã€`<select>` å…ƒç´ ï¼›

```html
<script type="module" setup>
  //å¼•å…¥æ¨¡å—
  import { reactive,ref} from 'vue' 
  let hbs = ref([]); //è£…çˆ±å¥½çš„å€¼
  let user = reactive({username:null,password:null,introduce:null,pro:null})   
  function login(){
    alert(hbs.value);
    alert(JSON.stringify(user));
  }
  function clearx(){
    //user = {};// è¿™ä¸­å†™æ³•ä¼šå°†æ•°æ®å˜æˆéå“åº”çš„,åº”è¯¥æ˜¯user.username=""
    user.username=''
    user.password=''
    user.introduce=''
    user.pro=''
    hbs.value.splice(0,hbs.value.length);;
  }
</script>
<template>
  <div>
      è´¦å·ï¼š <input type="text" placeholder="è¯·è¾“å…¥è´¦å·ï¼" v-model="user.username"> <br>
      å¯†ç ï¼š <input type="text" placeholder="è¯·è¾“å…¥è´¦å·ï¼" v-model="user.password"> <br>
      çˆ±å¥½ï¼š 
        åƒ <input type="checkbox" name="hbs" v-model="hbs" value="åƒ"> 
        å– <input type="checkbox" name="hbs" v-model="hbs" value="å–">
        ç© <input type="checkbox" name="hbs" v-model="hbs" value="ç©">
        ä¹ <input type="checkbox" name="hbs" v-model="hbs" value="ä¹">
      <br>
      ç®€ä»‹:<textarea v-model="user.introduce"></textarea>
      <br>
      ç±è´¯:
          <select v-model="user.pro">
            <option value="1">é»‘</option>
            <option value="2">å‰</option>
            <option value="3">è¾½</option>
            <option value="4">äº¬</option>
            <option value="5">æ´¥</option>
            <option value="6">å†€</option>
          </select> 
      <br>
      <button @click="login()">ç™»å½•</button> 
      <button @click="clearx()">é‡ç½®</button>
      <hr>
      æ˜¾ç¤ºçˆ±å¥½:{{ hbs }}
      <hr>
      æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯:{{ user }}
  </div> 
</template> 
<style scoped>
</style>
```

### è®¡ç®—å±æ€§

> æ¨¡æ¿ä¸­çš„è¡¨è¾¾å¼è™½ç„¶æ–¹ä¾¿ï¼Œä½†ä¹Ÿåªèƒ½ç”¨æ¥åšç®€å•çš„æ“ä½œã€‚å¦‚æœåœ¨æ¨¡æ¿ä¸­å†™å¤ªå¤šé€»è¾‘ï¼Œä¼šè®©æ¨¡æ¿å˜å¾—è‡ƒè‚¿ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªåŒ…å«åµŒå¥—æ•°ç»„çš„å¯¹è±¡ï¼š


```html
<script type="module" setup>
  //å¼•å…¥æ¨¡å—
  import { reactive,computed} from 'vue'
  const author = reactive({
    name: 'John Doe',
    books: [
      'Vue 2 - Advanced Guide',
      'Vue 3 - Basic Guide',
      'Vue 4 - The Mystery'
    ]
  })
</script>
<template>
  <div>
    <p>{{author.name}} Has published books?:</p>
    <span>{{ author.books.length > 0 ? 'Yes' : 'No' }}</span>
  </div>
</template> 
<style scoped>
</style>
```

- è¿™é‡Œçš„æ¨¡æ¿çœ‹èµ·æ¥æœ‰äº›å¤æ‚ã€‚æˆ‘ä»¬å¿…é¡»è®¤çœŸçœ‹å¥½ä¸€ä¼šå„¿æ‰èƒ½æ˜ç™½å®ƒçš„è®¡ç®—ä¾èµ–äº `author.books`ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœåœ¨æ¨¡æ¿ä¸­éœ€è¦ä¸æ­¢ä¸€æ¬¡è¿™æ ·çš„è®¡ç®—ï¼Œæˆ‘ä»¬å¯ä¸æƒ³å°†è¿™æ ·çš„ä»£ç åœ¨æ¨¡æ¿é‡Œé‡å¤å¥½å¤šéã€‚

> å› æ­¤æˆ‘ä»¬æ¨èä½¿ç”¨**è®¡ç®—å±æ€§**æ¥æè¿°ä¾èµ–å“åº”å¼çŠ¶æ€çš„å¤æ‚é€»è¾‘ã€‚è¿™æ˜¯é‡æ„åçš„ç¤ºä¾‹ï¼š


```html
<script type="module" setup>
  //å¼•å…¥æ¨¡å—
  import { reactive,computed} from 'vue'
  const author = reactive({
    name: 'John Doe',
    books: [
      'Vue 2 - Advanced Guide',
      'Vue 3 - Basic Guide',
      'Vue 4 - The Mystery'
    ]
  })
  // ä¸€ä¸ªè®¡ç®—å±æ€§ ref
  const publishedBooksMessage = computed(() => {
    console.log("publishedBooksMessage")
    return author.books.length > 0 ? 'Yes' : 'No'
  })
  // ä¸€ä¸ªå‡½æ•°
  let hasBooks = ()=>{
    console.log("hasBooks")
    return author.books.length > 0?'Yes':'no'
  }
</script>
<template>
  <div>
    <p>{{author.name}} Has published books?:</p>
    <span>{{ author.books.length > 0 ? 'Yes' : 'No' }}</span>
    <span>{{ hasBooks() }}</span><!-- è°ƒç”¨æ–¹æ³•,æ¯ä¸ªæ ‡ç­¾éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡ -->
    <span>{{ hasBooks() }}</span>

    <p>{{author.name}} Has published books?:</p>
    <span>{{ publishedBooksMessage }}</span><!-- å±æ€§è®¡ç®—,å±æ€§å€¼ä¸å˜æ—¶,å¤šä¸ªæ ‡ç­¾åªä¼šè°ƒç”¨ä¸€æ¬¡ -->
    <span>{{ publishedBooksMessage }}</span>
  </div>
</template> 
<style scoped>
</style>
```

-  æˆ‘ä»¬åœ¨è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªè®¡ç®—å±æ€§ `publishedBooksMessage`ã€‚`computed()` æ–¹æ³•æœŸæœ›æ¥æ”¶ä¸€ä¸ª getter å‡½æ•°ï¼Œè¿”å›å€¼ä¸ºä¸€ä¸ª**è®¡ç®—å±æ€§ ref**ã€‚å’Œå…¶ä»–ä¸€èˆ¬çš„ ref ç±»ä¼¼ï¼Œä½ å¯ä»¥é€šè¿‡ `publishedBooksMessage.value` è®¿é—®è®¡ç®—ç»“æœã€‚è®¡ç®—å±æ€§ ref ä¹Ÿä¼šåœ¨æ¨¡æ¿ä¸­è‡ªåŠ¨è§£åŒ…ï¼Œå› æ­¤åœ¨æ¨¡æ¿è¡¨è¾¾å¼ä¸­å¼•ç”¨æ—¶æ— éœ€æ·»åŠ  `.value`ã€‚ 
-  Vue çš„è®¡ç®—å±æ€§ä¼šè‡ªåŠ¨è¿½è¸ªå“åº”å¼ä¾èµ–ã€‚å®ƒä¼šæ£€æµ‹åˆ° `publishedBooksMessage` ä¾èµ–äº `author.books`ï¼Œæ‰€ä»¥å½“ `author.books` æ”¹å˜æ—¶ï¼Œä»»ä½•ä¾èµ–äº `publishedBooksMessage` çš„ç»‘å®šéƒ½ä¼šåŒæ—¶æ›´æ–°ã€‚ 

> è®¡ç®—å±æ€§ç¼“å­˜ vs æ–¹æ³•ï¼š


- è‹¥æˆ‘ä»¬å°†åŒæ ·çš„å‡½æ•°å®šä¹‰ä¸ºä¸€ä¸ªæ–¹æ³•è€Œä¸æ˜¯è®¡ç®—å±æ€§ï¼Œä¸¤ç§æ–¹å¼åœ¨ç»“æœä¸Šç¡®å®æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œç„¶è€Œï¼Œä¸åŒä¹‹å¤„åœ¨äº**è®¡ç®—å±æ€§å€¼ä¼šåŸºäºå…¶å“åº”å¼ä¾èµ–è¢«ç¼“å­˜**ã€‚ä¸€ä¸ªè®¡ç®—å±æ€§ä»…ä¼šåœ¨å…¶å“åº”å¼ä¾èµ–æ›´æ–°æ—¶æ‰é‡æ–°è®¡ç®—ã€‚è¿™æ„å‘³ç€åªè¦ `author.books` ä¸æ”¹å˜ï¼Œæ— è®ºå¤šå°‘æ¬¡è®¿é—® `publishedBooksMessage` éƒ½ä¼šç«‹å³è¿”å›å…ˆå‰çš„è®¡ç®—ç»“æœ!

### æ•°æ®ç›‘å¬å™¨

> è®¡ç®—å±æ€§å…è®¸æˆ‘ä»¬å£°æ˜æ€§åœ°è®¡ç®—è¡ç”Ÿå€¼ã€‚ç„¶è€Œåœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨çŠ¶æ€å˜åŒ–æ—¶æ‰§è¡Œä¸€äº›â€œå‰¯ä½œç”¨â€ï¼šä¾‹å¦‚æ›´æ”¹ DOMï¼Œæˆ–æ˜¯æ ¹æ®å¼‚æ­¥æ“ä½œçš„ç»“æœå»ä¿®æ”¹å¦ä¸€å¤„çš„çŠ¶æ€ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ [watch](https://cn.vuejs.org/api/reactivity-core.html#watch)[ å‡½æ•°](https://cn.vuejs.org/api/reactivity-core.html#watch)åœ¨æ¯æ¬¡å“åº”å¼çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶è§¦å‘å›è°ƒå‡½æ•°ï¼š


- watchä¸»è¦ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š 
   - å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶éœ€è¦æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼›
   - ç›‘å¬æ•°æ®å˜åŒ–ï¼Œå½“æ»¡è¶³ä¸€å®šæ¡ä»¶æ—¶è§¦å‘ç›¸åº”æ“ä½œï¼›
   - åœ¨å¼‚æ­¥æ“ä½œå‰æˆ–æ“ä½œåéœ€è¦æ‰§è¡Œç›¸åº”çš„æ“ä½œï¼›

> ç›‘æ§å“åº”å¼æ•°æ®ï¼ˆwatchï¼‰ï¼š


```html
<script type="module" setup>
  import { ref,reactive,watch} from 'vue'
  let firstname=ref('')
  let lastname=reactive({name:''})
  let fullname=ref('')
  //ç›‘å¬ä¸€ä¸ªrefå“åº”å¼æ•°æ®
  watch(firstname,(newValue,oldValue)=>{
    console.log(`${oldValue}å˜ä¸º${newValue}`)
    fullname.value=firstname.value+lastname.name
  })
  //ç›‘å¬reactiveå“åº”å¼æ•°æ®çš„æŒ‡å®šå±æ€§
  watch(()=>lastname.name,(newValue,oldValue)=>{
    console.log(`${oldValue}å˜ä¸º${newValue}`)
    fullname.value=firstname.value+lastname.name
  })
  //ç›‘å¬reactiveå“åº”å¼æ•°æ®çš„æ‰€æœ‰å±æ€§(æ·±åº¦ç›‘è§†,ä¸€èˆ¬ä¸æ¨è)
  //deep:true æ·±åº¦ç›‘è§†
  //immediate:true æ·±åº¦ç›‘è§†åœ¨è¿›å…¥é¡µé¢æ—¶ç«‹å³æ‰§è¡Œä¸€æ¬¡
  watch(()=>lastname,(newValue,oldValue)=>{
    // æ­¤æ—¶çš„newValueå’ŒoldValueä¸€æ ·,éƒ½æ˜¯lastname
    console.log(newValue)
    console.log(oldValue)
    fullname.value=firstname.value+lastname.name
  },{deep:true,immediate:false})
</script>
<template>
  <div>
    å…¨å:{{fullname}} <br>
    å§“æ°:<input type="text" v-model="firstname"> <br>
    åå­—:<input type="text" v-model="lastname.name" > <br>
  </div>
</template> 
<style scoped>
</style>
```

> ç›‘æ§å“åº”å¼æ•°æ®(watchEffect)ï¼š


- watchEffecté»˜è®¤ç›‘å¬æ‰€æœ‰çš„å“åº”å¼æ•°æ®

```html
<script type="module" setup>
  import { ref,reactive,watch, watchEffect} from 'vue' 
  let firstname=ref('')
  let lastname=reactive({name:''})
  let fullname=ref('')
  //ç›‘å¬æ‰€æœ‰å“åº”å¼æ•°æ®
  watchEffect(()=>{
    //ç›´æ¥åœ¨å†…éƒ¨ä½¿ç”¨ç›‘å¬å±æ€§å³å¯ï¼ä¸ç”¨å¤–éƒ¨å£°æ˜
    //ä¹Ÿä¸éœ€è¦ï¼Œå³æ—¶å›è°ƒè®¾ç½®ï¼é»˜è®¤åˆå§‹åŒ–å°±åŠ è½½ï¼
    console.log(firstname.value)
    console.log(lastname.name)
    fullname.value=`${firstname.value}${lastname.name}`
  })
</script>
<template>
  <div>
    å…¨å:{{fullname}} <br>
    å§“æ°:<input type="text" v-model="firstname"> <br>
    åå­—:<input type="text" v-model="lastname.name" > <br>
  </div>
</template> 
<style scoped>
</style>
```

> `watch` vs. `watchEffect`ï¼š


- `watch` å’Œ `watchEffect` éƒ½èƒ½å“åº”å¼åœ°æ‰§è¡Œæœ‰å‰¯ä½œç”¨çš„å›è°ƒã€‚å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«æ˜¯è¿½è¸ªå“åº”å¼ä¾èµ–çš„æ–¹å¼ï¼š 
   - `watch` åªè¿½è¸ªæ˜ç¡®ä¾¦å¬çš„æ•°æ®æºã€‚å®ƒä¸ä¼šè¿½è¸ªä»»ä½•åœ¨å›è°ƒä¸­è®¿é—®åˆ°çš„ä¸œè¥¿ã€‚å¦å¤–ï¼Œä»…åœ¨æ•°æ®æºç¡®å®æ”¹å˜æ—¶æ‰ä¼šè§¦å‘å›è°ƒã€‚`watch` ä¼šé¿å…åœ¨å‘ç”Ÿå‰¯ä½œç”¨æ—¶è¿½è¸ªä¾èµ–ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬èƒ½æ›´åŠ ç²¾ç¡®åœ°æ§åˆ¶å›è°ƒå‡½æ•°çš„è§¦å‘æ—¶æœºï¼›
   - `watchEffect`ï¼Œåˆ™ä¼šåœ¨å‰¯ä½œç”¨å‘ç”ŸæœŸé—´è¿½è¸ªä¾èµ–ã€‚å®ƒä¼šåœ¨åŒæ­¥æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œè‡ªåŠ¨è¿½è¸ªæ‰€æœ‰èƒ½è®¿é—®åˆ°çš„å“åº”å¼å±æ€§ã€‚è¿™æ›´æ–¹ä¾¿ï¼Œè€Œä¸”ä»£ç å¾€å¾€æ›´ç®€æ´ï¼Œä½†æœ‰æ—¶å…¶å“åº”æ€§ä¾èµ–å…³ç³»ä¼šä¸é‚£ä¹ˆæ˜ç¡®ï¼›

### Vueç”Ÿå‘½å‘¨æœŸ

#### ç”Ÿå‘½å‘¨æœŸç®€ä»‹

> æ¯ä¸ª Vue ç»„ä»¶å®ä¾‹åœ¨åˆ›å»ºæ—¶éƒ½éœ€è¦ç»å†ä¸€ç³»åˆ—çš„åˆå§‹åŒ–æ­¥éª¤ï¼Œæ¯”å¦‚è®¾ç½®å¥½æ•°æ®ä¾¦å¬ï¼Œç¼–è¯‘æ¨¡æ¿ï¼ŒæŒ‚è½½å®ä¾‹åˆ° DOMï¼Œä»¥åŠåœ¨æ•°æ®æ”¹å˜æ—¶æ›´æ–° DOMã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå®ƒä¹Ÿä¼šè¿è¡Œè¢«ç§°ä¸º`ç”Ÿå‘½å‘¨æœŸé’©å­çš„å‡½æ•°`ï¼Œè®©å¼€å‘è€…æœ‰æœºä¼šåœ¨ç‰¹å®šé˜¶æ®µè¿è¡Œè‡ªå·±çš„ä»£ç !


- å‘¨æœŸå›¾è§£ï¼š

![image.png](https://cdn.nlark.com/yuque/0/2024/png/43928099/1718519366310-5f4d113c-f9ec-4ed8-8273-e2d835a79f7a.png#averageHue=%23000000&clientId=ub15ddbbd-fb54-4&from=paste&height=2002&id=u436c4b65&originHeight=2002&originWidth=1266&originalType=binary&ratio=1&rotation=0&showTitle=false&size=158667&status=done&style=none&taskId=uc9be0277-a7e1-4e22-aa9d-81707d15850&title=&width=1266)
![](images/image_elceCM4Wbp.png#id=qgfJD&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

- å¸¸è§é’©å­å‡½æ•°ï¼š 
   - onMounted() Â  Â  Â  Â  Â  Â  Â æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶æŒ‚è½½å®Œæˆåæ‰§è¡Œï¼›
   - onUpdated() Â  Â  Â  Â  Â  Â  Â  æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶å› ä¸ºå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹åè°ƒç”¨ï¼›
   - onUnmounted() Â  Â  Â  Â  æ³¨å†Œä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œåœ¨ç»„ä»¶å®ä¾‹è¢«å¸è½½ä¹‹åè°ƒç”¨ï¼›
   - onBeforeMount() Â  Â  Â  æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶è¢«æŒ‚è½½ä¹‹å‰è¢«è°ƒç”¨ï¼›
   - onBeforeUpdate() Â  Â  Â æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶å³å°†å› ä¸ºå“åº”å¼çŠ¶æ€å˜æ›´è€Œæ›´æ–°å…¶ DOM æ ‘ä¹‹å‰è°ƒç”¨ï¼›
   - onBeforeUnmount() Â æ³¨å†Œä¸€ä¸ªé’©å­ï¼Œåœ¨ç»„ä»¶å®ä¾‹è¢«å¸è½½ä¹‹å‰è°ƒç”¨ï¼›

####  ç”Ÿå‘½å‘¨æœŸæ¡ˆä¾‹

```html
<script setup>
    import {ref,onUpdated,onMounted,onBeforeUpdate} from 'vue'
    let message =ref('hello')   
    // æŒ‚è½½å®Œæ¯•ç”Ÿå‘½å‘¨æœŸ
    onMounted(()=>{
      console.log('-----------onMounted---------')
      let span1 =document.getElementById("span1")
      console.log(span1.innerText)
    })
    // æ›´æ–°å‰ç”Ÿå‘½å‘¨æœŸ
    onBeforeUpdate(()=>{
      console.log('-----------onBeforeUpdate---------')
      console.log(message.value)
      let span1 =document.getElementById("span1")
      console.log(span1.innerText)
    })
    // æ›´æ–°å®Œæˆç”Ÿå‘½å‘¨æœŸ
    onUpdated(()=>{
      console.log('-----------onUpdated---------')
      let span1 =document.getElementById("span1")
      console.log(span1.innerText)
    })
</script>
<template>
  <div>
    <span id="span1" v-text="message"></span> <br>
    <input type="text" v-model="message">
  </div>
</template>
<style scoped>
</style>
```

### Vueç»„ä»¶
### Vueç»„ä»¶
#### ç»„ä»¶åŸºç¡€
ä¼ ç»Ÿæ–¹å¼ç¼–å†™åº”ç”¨ï¼š
![image.png](https://cdn.nlark.com/yuque/0/2024/png/43928099/1718367156720-9ad5ec71-1727-445a-9aa0-366a22438842.png#averageHue=%2344413e&clientId=uf500b35e-48ba-4&from=paste&height=994&id=u5aacfe10&originHeight=994&originWidth=1742&originalType=binary&ratio=1&rotation=0&showTitle=false&size=487237&status=done&style=none&taskId=u034620bf-3d6a-49c7-b27f-f44ac7de5d8&title=&width=1742)
ç»„ä»¶æ–¹å¼ç¼–å†™åº”ç”¨ï¼š
![image.png](https://cdn.nlark.com/yuque/0/2024/png/43928099/1718367166817-1b3f4225-0d1e-4fb0-b9e9-733f601eeb63.png#averageHue=%23d0d039&clientId=uf500b35e-48ba-4&from=paste&height=1042&id=uc0a3e511&originHeight=1042&originWidth=1824&originalType=binary&ratio=1&rotation=0&showTitle=false&size=1293105&status=done&style=none&taskId=u95de3071-9aa2-4b6b-a6ee-7f41f61a769&title=&width=1824)

- ç»„ä»¶åŒ–ï¼šå¯¹js/css/htmlç»Ÿä¸€å°è£…ï¼Œè¿™æ˜¯Vueä¸­çš„æ¦‚å¿µï¼›
- æ¨¡å—åŒ–ï¼šå¯¹jsçš„ç»Ÿä¸€å°è£…,è¿™æ˜¯ES6ä¸­çš„æ¦‚å¿µï¼›
- ç»„ä»¶åŒ–ä¸­ï¼Œå¯¹jséƒ¨åˆ†ä»£ç çš„å¤„ç†ä½¿ç”¨ES6ä¸­çš„æ¨¡å—åŒ–ï¼›

#### ç»„ä»¶ä¹‹é—´ä¼ é€’æ•°æ®
##### çˆ¶ä¼ å­
Vue3 ä¸­çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼å¯ä»¥é€šè¿‡ props è¿›è¡Œï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š

1. é¦–å…ˆï¼Œåœ¨çˆ¶ç»„ä»¶ä¸­å®šä¹‰éœ€è¦ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼ï¼Œæ¥ç€ï¼Œåœ¨çˆ¶ç»„ä»¶çš„æ¨¡æ¿ä¸­å¼•å…¥å­ç»„ä»¶ï¼ŒåŒæ—¶åœ¨å¼•å…¥å­ç»„ä»¶çš„æ ‡ç­¾ä¸­æ·»åŠ  props å±æ€§å¹¶ä¸ºå…¶è®¾ç½®éœ€è¦ä¼ é€’çš„å€¼ã€‚
2. åœ¨ Vue3 ä¸­ï¼Œçˆ¶ç»„ä»¶é€šè¿‡ props ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼æ˜¯å“åº”å¼çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨çˆ¶ç»„ä»¶ä¸­çš„ä¼ é€’çš„å€¼å‘ç”Ÿäº†æ”¹å˜ï¼Œå­ç»„ä»¶ä¸­çš„å€¼ä¹Ÿä¼šç›¸åº”åœ°æ›´æ–°ã€‚
- çˆ¶ç»„ä»¶ä»£ç ï¼šApp.vue
```
<script setup>
  import Son from './components/Son.vue'
  import {ref,reactive,toRefs} from 'vue'
  let message = ref('parent data!')
  let title = ref(42)
  function changeMessage(){
    message.value = 'ä¿®æ”¹æ•°æ®ï¼'
    title.value++
  }
</script>
<template>
  <div>
    <h2>{{ message }}</h2>
    <hr>
    <!-- ä½¿ç”¨å­ç»„ä»¶ï¼Œå¹¶ä¸”ä¼ é€’æ•°æ®ï¼ -->
    <Son :message="message" :title="title"></Son>
    <hr>
    <button @click="changeMessage">ç‚¹å‡»æ›´æ–°</button>
  </div>
</template>
<style scoped>
</style>
```

- å­ç»„ä»¶ä»£ç ï¼šSon.vue
```
<script setup type="module">
    import {ref,isRef,defineProps} from 'vue'
    //å£°æ˜çˆ¶ç»„ä»¶ä¼ é€’å±æ€§å€¼
    defineProps({
        message:String ,
        title:Number
    })
</script>
<template>
    <div>
    <div>{{ message }}</div>
    <div>{{ title }}</div>
    </div>
</template>
<style>
</style>
```
##### å­ä¼ çˆ¶

- çˆ¶ç»„ä»¶ï¼š App.vue
```
<script setup>
    import Son from './components/Son.vue'
    import {ref} from 'vue'
    let pdata = ref('')
    const padd = (data) => {
        console.log('2222');
        pdata.value =data;
    }
    //è‡ªå®šä¹‰æ¥æ”¶ï¼Œå­ç»„ä»¶ä¼ é€’æ•°æ®æ–¹æ³•ï¼ å‚æ•°ä¸ºæ•°æ®ï¼
    const psub = (data) => {
        console.log('11111');
        pdata.value = data;
    }
</script>
<template>
    <div>
        <!-- å£°æ˜@äº‹ä»¶ååº”è¯¥ç­‰äºå­æ¨¡å—å¯¹åº”äº‹ä»¶åï¼è°ƒç”¨æ–¹æ³•å¯ä»¥æ˜¯å½“å‰è‡ªå®šä¹‰ï¼-->
        <Son @add="padd" @sub="psub"></Son>
        <hr>
        {{ pdata }}
    </div>
</template>
<style>
</style>
```

- å­ç»„ä»¶ï¼šSon.vue
```
<script setup>
    import {ref,defineEmits} from 'vue'
    //1.å®šä¹‰è¦å‘é€ç»™çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œå¯ä»¥1æˆ–è€…å¤šä¸ª
    let emites = defineEmits(['add','sub']);
    let data = ref(1);
    function sendMsgToParent(){
        //2.å‡ºå‘çˆ¶ç»„ä»¶å¯¹åº”çš„æ–¹æ³•ï¼Œè°ƒç”¨defineEmiteså¯¹åº”çš„å±æ€§
        emites('add','add data!'+data.value)
        emites('sub','sub data!'+data.value)
        data.value ++;
    }
</script>
<template>
    <div>
      <button @click="sendMsgToParent">å‘é€æ¶ˆæ¯ç»™çˆ¶ç»„ä»¶</button>
    </div>
</template>
```
##### å…„å¼Ÿä¼ å‚

- Navigator.vue: å‘é€æ•°æ®åˆ°App.vue
```
<script setup type="module">
    import {defineEmits} from 'vue'
    const emits = defineEmits(['sendMenu']);
    //è§¦å‘äº‹ä»¶ï¼Œå‘çˆ¶å®¹å™¨å‘é€æ•°æ®
    function send(data){
        emits('sendMenu',data);
    }
</script>
<template>
    <!-- æ¨èå†™ä¸€ä¸ªæ ¹æ ‡ç­¾-->
    <div>
       <ul>
          <li @click="send('å­¦å‘˜ç®¡ç†')">å­¦å‘˜ç®¡ç†</li>
          <li @click="send('å›¾ä¹¦ç®¡ç†')">å›¾ä¹¦ç®¡ç†</li>
          <li @click="send('è¯·å‡ç®¡ç†')">è¯·å‡ç®¡ç†</li>
          <li @click="send('è€ƒè¯•ç®¡ç†')">è€ƒè¯•ç®¡ç†</li>
          <li @click="send('è®²å¸ˆç®¡ç†')">è®²å¸ˆç®¡ç†</li>
       </ul>
    </div>
</template>
<style>
</style>
```

- App.vue: å‘é€æ•°æ®åˆ°Content.vue
```
<script setup>
  import Header  from './components/Header.vue'
  import Navigator  from './components/Navigator.vue'
  import Content  from './components/Content.vue'
  import {ref} from "vue"
  //å®šä¹‰æ¥å—navigatorä¼ é€’å‚æ•°
  var navigator_menu = ref('ceshi');
  const receiver = (data) =>{
    navigator_menu.value = data;
  }
</script>
<template>
  <div>
      <hr>
      {{ navigator_menu }}
      <hr>
     <Header class="header"></Header>
     <Navigator @sendMenu="receiver" class="navigator"></Navigator>
     <!-- å‘å­ç»„ä»¶ä¼ é€’æ•°æ®-->
     <Content class="content" :message="navigator_menu"></Content>
    </div>
</template>
<style scoped>
    .header{
       height: 80px;
       border: 1px solid red;
    }
    .navigator{
      width: 15%;
      height: 800px;
      display: inline-block;
      border: 1px blue solid;
      float: left;
    }
    .content{
      width: 83%;
      height: 800px;
      display: inline-block;
      border: 1px goldenrod solid;
      float: right;
    }
</style>
```

- Content.vue
```
<script setup type="module">
    defineProps({
        message:String
    })
</script>
<template>
    <div>
        å±•ç¤ºçš„ä¸»è¦å†…å®¹ï¼
        <hr>
        {{ message }}
    </div>
</template>
<style>
</style>
```
## Vue3è·¯ç”±æœºåˆ¶Router
1 ä»€ä¹ˆæ˜¯è·¯ç”±ï¼Ÿ

- å®šä¹‰ï¼šè·¯ç”±å°±æ˜¯æ ¹æ®ä¸åŒçš„ URL åœ°å€å±•ç¤ºä¸åŒçš„å†…å®¹æˆ–é¡µé¢ï¼›
- é€šä¿—ç†è§£ï¼šè·¯ç”±å°±åƒæ˜¯ä¸€ä¸ªåœ°å›¾ï¼Œæˆ‘ä»¬è¦å»ä¸åŒçš„åœ°æ–¹ï¼Œéœ€è¦é€šè¿‡ä¸åŒçš„è·¯çº¿è¿›è¡Œå¯¼èˆªï¼›

2 è·¯ç”±çš„ä½œç”¨ï¼š

- å•é¡µåº”ç”¨ç¨‹åºï¼ˆSPAï¼‰ä¸­ï¼Œè·¯ç”±å¯ä»¥å®ç°ä¸åŒè§†å›¾ä¹‹é—´çš„æ— åˆ·æ–°åˆ‡æ¢ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼›
- è·¯ç”±è¿˜å¯ä»¥å®ç°é¡µé¢çš„è®¤è¯å’Œæƒé™æ§åˆ¶ï¼Œä¿æŠ¤ç”¨æˆ·çš„éšç§å’Œå®‰å…¨ï¼›
- è·¯ç”±è¿˜å¯ä»¥åˆ©ç”¨æµè§ˆå™¨çš„å‰è¿›ä¸åé€€ï¼Œå¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°å›åˆ°ä¹‹å‰è®¿é—®è¿‡çš„é¡µé¢ï¼›
### å¿«é€Ÿä¸Šæ‰‹
> å‡†å¤‡é¡µé¢å’Œç»„ä»¶ Â  Â ï¼š

- components/Home.vue
```html
<script setup>
</script>
<template>
    <div>
        <h1>Homeé¡µé¢</h1>
    </div>
</template>
<style scoped>
</style>
```

- components/List.vue
```html
<script setup>
</script>
<template>
    <div>
        <h1>Listé¡µé¢</h1>
    </div>
</template>
<style scoped>
</style>
```

- components/Add.vue
```html
<script setup>
</script>
<template>
    <div>
        <h1>Addé¡µé¢</h1>
    </div>
</template>
<style scoped>
</style>
```

- components/Update.vue
```html
<script setup>
</script>
<template>
    <div>
        <h1>Updateé¡µé¢</h1>
    </div>
</template>
<style scoped>
</style>
```
> å‡†å¤‡è·¯ç”±é…ç½®ï¼š

- src/routers/router.js
```javascript
// å¯¼å…¥è·¯ç”±åˆ›å»ºçš„ç›¸å…³æ–¹æ³•
import {createRouter,createWebHashHistory} from 'vue-router'
// å¯¼å…¥vueç»„ä»¶
import Home from '../components/Home.vue'
import List from '../components/List.vue'
import Add from '../components/Add.vue'
import Update from '../components/Update.vue'
// åˆ›å»ºè·¯ç”±å¯¹è±¡,å£°æ˜è·¯ç”±è§„åˆ™
const router = createRouter({
    //createWebHashHistory() æ˜¯ Vue.js åŸºäº hash æ¨¡å¼åˆ›å»ºè·¯ç”±çš„å·¥å‚å‡½æ•°ã€‚åœ¨ä½¿ç”¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œè·¯ç”±ä¿¡æ¯ä¿å­˜åœ¨ URL çš„ hash ä¸­ï¼Œ
    //ä½¿ç”¨ createWebHashHistory() æ–¹æ³•ï¼Œå¯ä»¥åˆ›å»ºä¸€ä¸ªè·¯ç”±å†å²è®°å½•å¯¹è±¡ï¼Œç”¨äºç®¡ç†åº”ç”¨ç¨‹åºçš„è·¯ç”±ã€‚åœ¨ Vue.js åº”ç”¨ä¸­ï¼Œ
    //é€šå¸¸ä½¿ç”¨è¯¥æ–¹æ³•æ¥åˆ›å»ºè·¯ç”±çš„å†å²è®°å½•å¯¹è±¡ã€‚
    //å°±æ˜¯è·¯ç”±ä¸­ç¼“å­˜å†å²è®°å½•çš„å¯¹è±¡ï¼Œvue-routeræä¾›
    history: createWebHashHistory(),
    routes:[
        {
            path:'/',
            /* 
                componentæŒ‡å®šç»„ä»¶åœ¨é»˜è®¤çš„è·¯ç”±è§†å›¾ä½ç½®å±•ç¤º
                components:Home
                componentsæŒ‡å®šç»„ä»¶åœ¨nameä¸ºæŸä¸ªå€¼çš„è·¯ç”±è§†å›¾ä½ç½®å±•ç¤º
                components:{
                    default:Home,// é»˜è®¤è·¯ç”±è§†å›¾ä½ç½®
                    homeView:Home// nameä¸ºhomeViewçš„è·¯ç”±è§†å›¾ä½ç½®
                }   
            */
            components:{
                default:Home,
                homeView:Home
            }      
        },
        {
            path:'/list',
            components:{
                listView : List
            } 
        },
        {
            path:'/add',
            components:{
                addView:Add
            } 
        },
        {
            path:'/update',
            components:{
                updateView:Update
            }  
        },
    ]

})
// å¯¹å¤–æš´éœ²è·¯ç”±å¯¹è±¡
export default router;
```

> 5 main.jså¼•å…¥Routeré…ç½®ï¼š

- ä¿®æ”¹æ–‡ä»¶ï¼šmain.js (å…¥å£æ–‡ä»¶)
```javascript
import { createApp } from 'vue'
import './style.css'
import App from './App.vue'
//å¯¼å…¥routeræ¨¡å—
import router from './routers/router.js'
let app = createApp(App)
//ç»‘å®šè·¯ç”±å¯¹è±¡
app.use(router)
//æŒ‚è½½è§†å›¾
app.mount("#app")
```
## Vue3æ•°æ®äº¤äº’Axios
### Promise
å‰ç«¯ä¸­çš„å¼‚æ­¥ç¼–ç¨‹æŠ€æœ¯ï¼Œç±»ä¼¼Javaä¸­çš„å¤šçº¿ç¨‹+çº¿ç¨‹ç»“æœå›è°ƒï¼

- Promise æ˜¯å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œæ¯”ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆå›è°ƒå‡½æ•°å’Œäº‹ä»¶æ›´åˆç†å’Œæ›´å¼ºå¤§ã€‚å®ƒç”±ç¤¾åŒºæœ€æ—©æå‡ºå’Œå®ç°ï¼ŒES6å°†å…¶å†™è¿›äº†è¯­è¨€æ ‡å‡†ï¼Œç»Ÿä¸€äº†ç”¨æ³•ï¼ŒåŸç”Ÿæä¾›äº†Promiseå¯¹è±¡ï¼›
- æ‰€è°“Promiseï¼Œç®€å•è¯´å°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œé‡Œé¢ä¿å­˜ç€æŸä¸ªæœªæ¥æ‰ä¼šç»“æŸçš„äº‹ä»¶ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼‰çš„ç»“æœã€‚ä»è¯­æ³•ä¸Šè¯´ï¼ŒPromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œä»å®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ã€‚Promise æä¾›ç»Ÿä¸€çš„ APIï¼Œå„ç§å¼‚æ­¥æ“ä½œéƒ½å¯ä»¥ç”¨åŒæ ·çš„æ–¹æ³•è¿›è¡Œå¤„ç†ï¼›
> `Promise`å¯¹è±¡æœ‰ä»¥ä¸‹ä¸¤ä¸ªç‰¹ç‚¹ï¼š

1.  Promiseå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œæœ‰ä¸‰ç§çŠ¶æ€ï¼š`Pending`ï¼ˆè¿›è¡Œä¸­ï¼‰ã€`Resolved`ï¼ˆå·²å®Œæˆï¼Œåˆç§° Fulfilledï¼‰å’Œ`Rejected`ï¼ˆå·²å¤±è´¥ï¼‰ã€‚åªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€ï¼Œä»»ä½•å…¶ä»–æ“ä½œéƒ½æ— æ³•æ”¹å˜è¿™ä¸ªçŠ¶æ€ã€‚è¿™ä¹Ÿæ˜¯`Promise`è¿™ä¸ªåå­—çš„ç”±æ¥ï¼Œå®ƒçš„è‹±è¯­æ„æ€å°±æ˜¯â€œæ‰¿è¯ºâ€ï¼Œè¡¨ç¤ºå…¶ä»–æ‰‹æ®µæ— æ³•æ”¹å˜ï¼› 
2.  ä¸€æ—¦çŠ¶æ€æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœã€‚Promiseå¯¹è±¡çš„çŠ¶æ€æ”¹å˜ï¼Œåªæœ‰ä¸¤ç§å¯èƒ½ï¼šä»`Pending`å˜ä¸º`Resolved`å’Œä»`Pending`å˜ä¸º`Rejected`ã€‚åªè¦è¿™ä¸¤ç§æƒ…å†µå‘ç”Ÿï¼ŒçŠ¶æ€å°±å‡å›ºäº†ï¼Œä¸ä¼šå†å˜äº†ï¼Œä¼šä¸€ç›´ä¿æŒè¿™ä¸ªç»“æœï¼› 

jsåŸç”Ÿå›è°ƒå‡½æ•°ï¼š ä¸€äº›ç‰¹æ®Šçš„å‡½æ•°ï¼Œè¡¨ç¤ºæœªæ¥æ‰ä¼šæ‰§è¡Œçš„ä¸€äº›åŠŸèƒ½ï¼Œåç»­ä»£ç ä¸ä¼šç­‰å¾…è¯¥å‡½æ•°æ‰§è¡Œå®Œæ¯•å°±å¼€å§‹æ‰§è¡Œäº†ã€‚
```javascript
<script>
    // è®¾ç½®ä¸€ä¸ª2000æ¯«ç§’åä¼šæ‰§è¡Œä¸€æ¬¡çš„å®šæ—¶ä»»åŠ¡
    setTimeout(function (){
        console.log("setTimeout invoked")
    },2000)
    console.log("other code processon")
</script>
```
promiseåŸºæœ¬ç”¨æ³•
```javascript
    <script>
       /*  
        1.å®ä¾‹åŒ–promiseå¯¹è±¡,å¹¶ä¸”æ‰§è¡Œ(ç±»ä¼¼Javaåˆ›å»ºçº¿ç¨‹å¯¹è±¡,å¹¶ä¸”start)
        å‚æ•°: resolve,rejectéšæ„å‘½å,ä½†æ˜¯ä¸€èˆ¬è¿™ä¹ˆå«!
        å‚æ•°: resolve,rejectåˆ†åˆ«å¤„ç†æˆåŠŸå’Œå¤±è´¥çš„ä¸¤ä¸ªå‡½æ•°! æˆåŠŸresolve(ç»“æœ)  å¤±è´¥reject(ç»“æœ)
        å‚æ•°: åœ¨functionä¸­è°ƒç”¨è¿™é‡Œä¸¤ä¸ªæ–¹æ³•,é‚£ä¹ˆpromiseä¼šå¤„äºä¸¤ä¸ªä¸åŒçš„çŠ¶æ€
        çŠ¶æ€: promiseæœ‰ä¸‰ä¸ªçŠ¶æ€
                pending   æ­£åœ¨è¿è¡Œ
                resolved  å†…éƒ¨è°ƒç”¨äº†resolveæ–¹æ³•
                rejected  å†…éƒ¨è°ƒç”¨äº†rejectæ–¹æ³•
        å‚æ•°: åœ¨ç¬¬äºŒæ­¥å›è°ƒå‡½æ•°ä¸­å°±å¯ä»¥è·å–å¯¹åº”çš„ç»“æœ 
        */
        let promise =new Promise(function(resolve,reject){
            console.log("promise do some code ... ...")
            //resolve("promise success")
            reject("promise fail")
        })
        console.log('other code1111 invoked')
        //2.è·å–å›è°ƒå‡½æ•°ç»“æœ  thenåœ¨è¿™é‡Œä¼šç­‰å¾…promiseä¸­çš„è¿è¡Œç»“æœ,ä½†æ˜¯ä¸ä¼šé˜»å¡ä»£ç ç»§ç»­è¿è¡Œ
        promise.then(
            function(value){console.log(`promiseä¸­æ‰§è¡Œäº†resolve:${value}`)},
            function(error){console.log(`promiseä¸­æ‰§è¡Œäº†reject:${error}`)}
        )
        // 3 å…¶ä»–ä»£ç æ‰§è¡Œ   
        console.log('other code2222 invoked')
    </script>
```
#### asyncå’Œawaitçš„ä½¿ç”¨
async ç”¨äºæ ‡è¯†å‡½æ•°çš„ï¼š

1. asyncæ ‡è¯†å‡½æ•°åï¼Œasyncå‡½æ•°çš„è¿”å›å€¼ä¼šå˜æˆä¸€ä¸ªPromiseå¯¹è±¡ï¼›
2. å¦‚æœå‡½æ•°å†…éƒ¨è¿”å›çš„æ•°æ®æ˜¯ä¸€ä¸ªéPromiseå¯¹è±¡ï¼Œasyncå‡½æ•°çš„ç»“æœä¼šè¿”å›ä¸€ä¸ªæˆåŠŸçŠ¶æ€ Promiseå¯¹è±¡ï¼›
3. å¦‚æœå‡½æ•°å†…éƒ¨è¿”å›çš„æ˜¯ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œåˆ™asyncå‡½æ•°è¿”å›çš„çŠ¶æ€ä¸ç»“æœç”±è¯¥å¯¹è±¡å†³å®šï¼›
4. å¦‚æœå‡½æ•°å†…éƒ¨æŠ›å‡ºçš„æ˜¯ä¸€ä¸ªå¼‚å¸¸ï¼Œåˆ™asyncå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªå¤±è´¥çš„Promiseå¯¹è±¡ï¼›
5. asyncå…¶å®å°±æ˜¯ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¿«æ·å£°æ˜å›è°ƒå‡½æ•°çš„è¯­æ³•ï¼Œæœ‰äº†å®ƒæ— éœ€ç¼–å†™ new Promise(... ...) è¿™æ ·çš„ä»£ç äº†ï¼›

awaitï¼š

1. awaitå³ä¾§çš„è¡¨è¾¾å¼ä¸€èˆ¬ä¸ºä¸€ä¸ªPromiseå¯¹è±¡ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå…¶ä»–å€¼ï¼›
2. å¦‚æœè¡¨è¾¾å¼æ˜¯Promiseå¯¹è±¡ï¼Œawaitè¿”å›çš„æ˜¯PromiseæˆåŠŸçš„å€¼ï¼›
3. å¦‚æœè¡¨è¾¾å¼æ˜¯å…¶ä»–å€¼ï¼Œåˆ™ç›´æ¥è¿”å›è¯¥å€¼ï¼›
4. awaitä¼šç­‰å³è¾¹çš„Promiseå¯¹è±¡æ‰§è¡Œç»“æŸï¼Œç„¶åå†è·å–ç»“æœï¼Œæ‰€åœ¨æ–¹æ³•çš„åç»­ä»£ç ä¹Ÿä¼šç­‰å¾…awaitçš„æ‰§è¡Œï¼›
5. awaitå¿…é¡»åœ¨asyncå‡½æ•°ä¸­ï¼Œä½†æ˜¯asyncå‡½æ•°ä¸­å¯ä»¥æ²¡æœ‰awaitï¼›
6. å¦‚æœawaitå³è¾¹çš„Promiseå¤±è´¥äº†ï¼Œå°±ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¯ä»¥é€šè¿‡ try ... catchæ•è·å¤„ç†ï¼›
7. awaitå…¶å®å°±æ˜¯ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªå¿«æ·è·å¾—Promiseå¯¹è±¡æˆåŠŸçŠ¶æ€çš„è¯­æ³•ï¼Œæ— éœ€ç¼–å†™promise.then(... ...)è¿™æ ·çš„ä»£ç äº†ï¼›
### ä»‹ç»
> AJAX ï¼š

-  AJAX = Asynchronous JavaScript and XMLï¼ˆå¼‚æ­¥çš„ JavaScript å’Œ XMLï¼‰ï¼› 
-  AJAX ä¸æ˜¯æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§ä½¿ç”¨ç°æœ‰æ ‡å‡†çš„æ–°æ–¹æ³•ï¼› 
-  AJAX æœ€å¤§çš„ä¼˜ç‚¹æ˜¯åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªé¡µé¢çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®å¹¶æ›´æ–°éƒ¨åˆ†ç½‘é¡µå†…å®¹ï¼› 
-  AJAX ä¸éœ€è¦ä»»ä½•æµè§ˆå™¨æ’ä»¶ï¼Œä½†éœ€è¦ç”¨æˆ·å…è®¸ JavaScript åœ¨æµè§ˆå™¨ä¸Šæ‰§è¡Œï¼› 
-  XMLHttpRequest åªæ˜¯å®ç° Ajax çš„ä¸€ç§æ–¹å¼ï¼Œæœ¬æ¬¡æˆ‘ä»¬ä½¿ç”¨Vue Axiosæ–¹å¼å®ç°ï¼› 
> ä»€ä¹ˆæ˜¯axios Â å®˜ç½‘ä»‹ç»:[https://axios-http.com/zh/docs/intro](https://axios-http.com/zh/docs/intro)

- Axios æ˜¯ä¸€ä¸ªåŸºäº Promiseç½‘ç»œè¯·æ±‚åº“ï¼Œä½œç”¨äº[node.js](https://nodejs.org/) å’Œæµè§ˆå™¨ä¸­ã€‚ å®ƒæ˜¯ [_isomorphic_](https://www.lullabot.com/articles/what-is-an-isomorphic-application) çš„(å³åŒä¸€å¥—ä»£ç å¯ä»¥è¿è¡Œåœ¨æµè§ˆå™¨å’Œnode.jsä¸­)ã€‚åœ¨æœåŠ¡ç«¯å®ƒä½¿ç”¨åŸç”Ÿ node.js `http` æ¨¡å—ï¼Œè€Œåœ¨å®¢æˆ·ç«¯ (æµè§ˆç«¯) åˆ™ä½¿ç”¨ XMLHttpRequestsã€‚å®ƒæœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š 
   - ä»æµè§ˆå™¨åˆ›å»º [XMLHttpRequests](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest)
   - ä» node.js åˆ›å»º [http](http://nodejs.org/api/http.html) è¯·æ±‚
   - æ”¯æŒ [Promise](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise) API
   - æ‹¦æˆªè¯·æ±‚å’Œå“åº”
   - è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®
   - å–æ¶ˆè¯·æ±‚
   - è‡ªåŠ¨è½¬æ¢JSONæ•°æ®
   - å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡[XSRF](http://en.wikipedia.org/wiki/Cross-site_request_forgery)

## Vue3çŠ¶æ€ç®¡ç†Pinia
### Piniaä»‹ç»

> å¦‚ä½•å®ç°å¤šä¸ªç»„ä»¶ä¹‹é—´çš„æ•°æ®ä¼ é€’?

-  æ–¹å¼1 ç»„ä»¶ä¼ å‚ ï¼› 
-  æ–¹å¼2 è·¯ç”±ä¼ å‚ ï¼› 
-  æ–¹å¼3 é€šè¿‡piniaçŠ¶æ€ç®¡ç†å®šä¹‰å…±äº«æ•°æ®ï¼› 

### PiniaåŸºæœ¬ç”¨æ³•

> 1 å‡†å¤‡Viteé¡¹ç›®ï¼š


```javascript
npm create vite
npm install 
npm install vue-router@4 --save
```

> 2 å®‰è£…Piniaï¼š


```javascript
npm install pinia
```

> 3 å®šä¹‰pinia storeå¯¹è±¡ src/store/store.js ï¼ˆæ¨èè¿™ä¹ˆå‘½åä¸æ˜¯å¼ºåˆ¶ï¼‰ï¼š


```javascript
import {defineStore } from 'pinia'
//å®šä¹‰æ•°æ®å¹¶ä¸”å¯¹å¤–æš´éœ²
// storeå°±æ˜¯å®šä¹‰å…±äº«çŠ¶æ€çš„åŒ…è£…å¯¹è±¡
// å†…éƒ¨åŒ…å«å››ä¸ªå±æ€§ï¼š id å”¯ä¸€æ ‡è¯† state å®Œæ•´ç±»å‹æ¨ç†ï¼Œæ¨èä½¿ç”¨ç®­å¤´å‡½æ•° å­˜æ”¾çš„æ•°æ® getters ç±»ä¼¼å±æ€§è®¡ç®—ï¼Œå­˜å‚¨æ”¾å¯¹æ•°æ®
// æ“ä½œçš„æ–¹æ³•  actions å­˜å‚¨æ•°æ®çš„å¤æ‚ä¸šåŠ¡é€»è¾‘æ–¹æ³•
// ç†è§£ï¼š storeç±»ä¼¼Javaä¸­çš„å®ä½“ç±»ï¼Œ idå°±æ˜¯ç±»åï¼Œ state å°±æ˜¯è£…æ•°æ®å€¼çš„å±æ€§  getterså°±æ˜¯getæ–¹æ³•ï¼Œactionså°±æ˜¯å¯¹æ•°æ®æ“ä½œçš„å…¶ä»–æ–¹æ³•
export const definedPerson = defineStore(
    {
        id: 'personPinia', //å¿…é¡»å”¯ä¸€
        state:()=>{ // stateä¸­ç”¨äºå®šä¹‰æ•°æ®
            return {
                username:'å¼ ä¸‰',
                age:0,
                hobbies:['å”±æ­Œ','è·³èˆ']
            }
        },
        getters:{// ç”¨äºå®šä¹‰ä¸€äº›é€šè¿‡æ•°æ®è®¡ç®—è€Œå¾—åˆ°ç»“æœçš„ä¸€äº›æ–¹æ³• ä¸€èˆ¬åœ¨æ­¤å¤„ä¸åšå¯¹æ•°æ®çš„ä¿®æ”¹æ“ä½œ
                 // gettersä¸­çš„æ–¹æ³•å¯ä»¥å½“åšå±æ€§å€¼æ–¹å¼ä½¿ç”¨
            getHobbiesCount(){
                return this.hobbies.length
            },
            getAge(){
                return this.age
            }
        },
        actions:{ // ç”¨äºå®šä¹‰ä¸€äº›å¯¹æ•°æ®ä¿®æ”¹çš„æ–¹æ³•
            doubleAge(){
                this.age=this.age*2
            }
        }
    }
)
```

> 4 åœ¨main.jsé…ç½®Piniaç»„ä»¶åˆ°Vueä¸­ ï¼š

```javascript
import { createApp } from 'vue'
import App from './App.vue'
import router from './routers/router.js'
// å¯¼pinia
import { createPinia } from 'pinia'
// åˆ›å»ºpiniaå¯¹è±¡
let pinia= createPinia()
let app =createApp(App)
app.use(router)
// appä¸­ä½¿ç”¨piniaåŠŸèƒ½
app.use(pinia) 
app.mount('#app')
```
